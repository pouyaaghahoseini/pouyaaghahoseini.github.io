!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){"use strict";n.r(t),n.d(t,"utility_controller",function(){return r}),n.d(t,"Utility",function(){return a});var i=n(4),o=Backbone.Radio.channel("events"),r={initModule:function(){S(),u(),z(),D(),O(),P(),k(),R(),T(),I(),M(),m(),l()},map:function(e,t,n,i,o){return C(e,t,n,i,o)},filterURL:function(e){return p(e)},isInternUrl:function(e){return y(e)},stringStartsWith:function(e,t){return f(e,t)},fixBody:function(){N()},unfixBody:function(){E()},stringifyCatIds:function(e){return d(e)},parseIdsString:function(e){return h(e)},fadeInImageOnLoadViaParent:function(e){c(e)},setSrcAndSrcSetViaParent:function(e){v(e)},setBodyClasses:function(e){x(e)},setImageSizesAttribute:function(e){b(e)},getImageSrcAndSrcSet:function(e){return s(e)}},a={orientation:window.innerWidth>window.innerHeight?"landscape":"portrait",previousOrientation:window.innerWidth>window.innerHeight?"landscape":"portrait",isPhoneSize:null,isDesktopSize:null,isTabletSize:null,isNotPhoneSize:null,screenSize:null,breakpoint:parseInt(frontendPassedData.breakpoint,10),tabletBreakpoint:parseInt(frontendPassedData.tabletbreakpoint,10),phoneBreakpoint:parseInt(frontendPassedData.breakpoint,10),isTouchDevice:!1,supportsPlaysInline:!1,showOriginalImages:"on"==frontendPassedData.misc_options_showoriginalimages,imageSizes:["265","512","768","1024","1280","1920","2560","3200","3840","4096"]},s=function(e){var t="",n=e.sizes.full,i=["_265","_512","_768","_1024","_1280","_1920","_2560","_3200","_3840","_4096"],o=e.sizes;for(var r in o)if("full"!=r){t=o[r]+" "+r.substring(1)+"w, "+t;var a=i.indexOf(r);-1!==a&&i.splice(a,1)}for(var s=0;s<i.length;s++)t+=n+" "+i[s].substring(1)+"w, ";t=t.slice(0,-2);var l=-1!=o.hasOwnProperty("_265")&&o._265;return{src:p(""==l||0==l?n:l),srcset:t=p(t)}},l=function(){jQuery(window).on("fpAfterRender",function(){setTimeout(function(){Q(),lazySizes.autoSizer.checkElems()},0)})},c=function(e){void 0===e&&(e=jQuery(".lay-content")),e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){var e=this;e.complete?e.classList.add("loaded"):e.addEventListener("load",function(){e.classList.add("loaded")})})},u=function(){jQuery(window).on("scroll",function(){o.trigger("scroll")})},d=function(e){if(""==e||void 0===e||null==e)return"[]";if("string"==typeof e)return e;for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return JSON.stringify(e)},h=function(e){if(""==e||void 0===e||null==e)return[];if(Array.isArray(e))return e;e=JSON.parse(e);for(var t=0;t<e.length;t++)e[t]=parseInt(e[t],10);return e},f=function(e,t){return e.slice(0,t.length).toLowerCase()==t.toLowerCase()},y=function(e){var t=frontendPassedData.siteUrl;t.startsWith("http://")?t=t.substr(7):t.startsWith("https://")&&(t=t.substr(8)),t.startsWith("www.")&&(t=t.substr(4));var n=e;if(n.startsWith("http://")?n=n.substr(7):n.startsWith("https://")&&(n=n.substr(8)),n.startsWith("www.")&&(n=n.substr(4)),n.startsWith(t))return!0},p=function(e){if(null!==e&&""!=e&&void 0!==e){var t=(e=g(e)).substring(0,5);if("http:"==t&&1==frontendPassedData.is_ssl)e="https:"+e.substring(5);else if("https"==t&&(0==frontendPassedData.is_ssl||""==frontendPassedData.is_ssl)){e="http"+e.substring(5)}if(1==frontendPassedData.has_www){if(1==frontendPassedData.is_ssl){if("https://www."!=e.substring(0,12))e="https://www."+e.substring(8)}else if("http://www."!=e.substring(0,11))e="http://www."+e.substring(7)}else if(1==frontendPassedData.is_ssl){if("https://www."==e.substring(0,12))e="https://"+e.substring(12)}else if("http://www."==e.substring(0,11))e="http://"+e.substring(11)}return e},g=function(e){return e.startsWith("mailto:")||e.startsWith("#")||e.startsWith("tel:")?e:"/"==e.substr(0,1)?frontendPassedData.siteUrl+e:e},m=function(){window.laytheme.on("newpageshown",function(e,t,n){setTimeout(function(){void 0!==window.instgrm&&window.instgrm.Embeds.process()},0),b(),w()}),window.laytheme.on("searchresultshown",function(){var e=jQuery("#search-region");v(e),b(e),c(e),w()})},v=function(e){e.find("img.setsizes").each(function(){var e=jQuery(this).attr("data-srcset"),t=jQuery(this).attr("data-src");jQuery(this).attr({src:t,srcset:e})}),e.find("img.lay-gif, img.lay-image-original").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)})},w=function(){window.respimage&&window.respimage()},b=function(e){void 0===e&&(e=jQuery("body")),e.find("img.setsizes:not(img.setsizes-objectfit-cover)").each(function(){var e=this.clientWidth;if(0==e){var t=jQuery(this).attr("data-ar");e=this.clientHeight/t}e=j(e),jQuery(this).attr("sizes",e+"px")}),Q()},j=function(e){for(var t=[265,512,768,1024,1280,1920,2560,3200,3840,4096],n=e,i=0;i<t.length;i++)if(t[i]>=e){n=t[i];break}return n},Q=function(e){void 0===e&&(e=jQuery("body")),e.find(".background-image img.setsizes.setsizes-objectfit-cover").each(function(){var e=this.parentNode.getBoundingClientRect(),t=parseInt(jQuery(this).attr("data-w"),10),n=parseInt(jQuery(this).attr("data-h"),10),i=0;t/n<e.width/e.height?i=e.width:i=n/t*e.height;i=j(i),jQuery(this).attr("sizes",parseInt(i,10)+"px")})},x=function(e){var t="type-"+e.type+" id-"+e.id+" slug-"+e.slug;if(void 0!==e.catid)for(var n=0;n<e.catid.length;n++)t+=" category-"+e.catid[n]+" ";!function(e,t,n){if(-1===t.indexOf("*"))return e.removeClass(t),n?e.addClass(n):e;var i=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");e.each(function(e,t){for(var n=" "+t.className+" ";i.test(n);)n=n.replace(i," ");t.className=jQuery.trim(n)}),n&&e.addClass(n)}(jQuery("body"),"type-* id-* slug-* category-*",t),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-slug":e.slug,"data-catid":d(e.catid)})},C=function(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)},k=function(){a.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),null==a.isTouchDevice&&(a.isTouchDevice=!1)},S=function(){var e=window.innerWidth;jQuery(window).on("resize",function(){e!=window.innerWidth&&jQuery(window).trigger("window_width_changed"),e=window.innerWidth})},z=function(){jQuery(window).on("orientationchange window_width_changed",function(){O(),P()}),jQuery(window).on("window_width_changed",_.debounce(function(){b()},300))},P=function(){a.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait",a.orientation!=a.previousOrientation&&window.laytheme.trigger("orientationchanged",a.orientation),a.previousOrientation=a.orientation},D=function(){window.innerWidth<=a.phoneBreakpoint?a.screenSize="phone":window.innerWidth<=a.tabletBreakpoint?a.screenSize="tablet":a.screenSize="desktop"},O=function(){var e=a.screenSize;switch(window.innerWidth<=a.phoneBreakpoint?a.screenSize="phone":window.innerWidth<=a.tabletBreakpoint?a.screenSize="tablet":a.screenSize="desktop",a.screenSize){case"desktop":jQuery("html").addClass("desktop-size").removeClass("tablet-size phone-size"),a.isPhoneSize=!1,a.isTabletSize=!1,a.isDesktopSize=!0,a.isDesktopOrTabletSize=!0;break;case"tablet":jQuery("html").addClass("tablet-size").removeClass("desktop-size phone-size"),a.isPhoneSize=!1,a.isTabletSize=!0,a.isDesktopSize=!1,a.isDesktopOrTabletSize=!0;break;case"phone":jQuery("html").addClass("phone-size").removeClass("desktop-size tablet-size"),a.isPhoneSize=!0,a.isTabletSize=!1,a.isDesktopSize=!1,a.isDesktopOrTabletSize=!1}e!=a.screenSize&&i.a.triggerSizeChanged(a.screenSize)},I=function(){"instant_load"==frontendPassedData.image_loading&&window.laytheme.on("newpageshown",function(){jQuery(".img img.lazyload, .thumb img.lazyload, .background-image img.lazyload").get().forEach(lazySizes.loader.unveil),setTimeout(function(){jQuery(".lay-carousel-slide.is-selected img").get().forEach(lazySizes.loader.unveil)},200)})},M=function(){Modernizr.objectfit||(window.laytheme.on("newpageshown",$),jQuery(window).on("resize orientationchange",$))},$=function(){setTimeout(function(){jQuery(".background-image img").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("bgw100").removeClass("bgh100"):jQuery(this).addClass("bgh100").removeClass("bgw100"):jQuery(this).addClass("bgw100").removeClass("bgh100")}),Q(),jQuery(".background-video video").each(function(){var e=jQuery(this).attr("data-ar"),t=this.parentNode.getBoundingClientRect(),n=t.height/t.width;void 0!==e?e>n?jQuery(this).addClass("w100").removeClass("h100"):jQuery(this).addClass("h100").removeClass("w100"):jQuery(this).addClass("w100").removeClass("h100")})},0)},T=function(){var e=[265,512,768,1024,1280,1920,2560,3200,3840,4096];document.addEventListener("lazybeforesizes",function(t){var n;for(n=0;n<e.length;n++)if(e[n]>=t.detail.width){t.detail.width=e[n];break}})},R=function(){if(a.supportsPlaysInline=!1,a.isTouchDevice){var e=new MobileDetect(window.navigator.userAgent);if("iOS"==e.os()&&"Safari"==e.userAgent()&&e.version("Safari")>=10)return void(a.supportsPlaysInline=!0);if("AndroidOS"==e.os()&&"Chrome"==e.userAgent()&&e.version("Chrome")>=53)return void(a.supportsPlaysInline=!0);a.supportsPlaysInline=!0}},L=!1,A=0,N=function(){L||(L=!0,A=window.pageYOffset||document.documentElement.scrollTop,jQuery("body").css({top:-A+"px"}),setTimeout(function(){jQuery("body").css("position","fixed")},0))},E=function(){L&&(L=!1,jQuery("body").css("position",""),jQuery(document).scrollTop(A))}},function(e,t,n){(function(e,n){var i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},r=o._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,y=Object.keys,p=Object.create,g=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===t||t.nodeType?o._=m:(void 0!==n&&!n.nodeType&&n.exports&&(t=n.exports=m),t._=m),m.VERSION="1.9.0";var v,w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return m.iteratee!==v?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?w(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=v=function(e,t){return _(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(o=0;o<t;o++)r[o]=arguments[o];return r[t]=i,e.apply(this,r)}},j=function(e){if(!m.isObject(e))return{};if(p)return p(e);g.prototype=e;var t=new g;return g.prototype=null,t},Q=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},C=Math.pow(2,53)-1,k=Q("length"),S=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=C};m.each=m.forEach=function(e,t,n){var i,o;if(t=w(t,n),S(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=m.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},m.map=m.collect=function(e,t,n){t=_(t,n);for(var i=!S(e)&&m.keys(e),o=(i||e).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=t(e[s],s,e)}return r};var z=function(e){return function(t,n,i,o){var r=arguments.length>=3;return function(t,n,i,o){var r=!S(t)&&m.keys(t),a=(r||t).length,s=e>0?0:a-1;for(o||(i=t[r?r[s]:s],s+=e);s>=0&&s<a;s+=e){var l=r?r[s]:s;i=n(i,t[l],l,t)}return i}(t,w(n,o,4),i,r)}};m.reduce=m.foldl=m.inject=z(1),m.reduceRight=m.foldr=z(-1),m.find=m.detect=function(e,t,n){var i=(S(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},m.filter=m.select=function(e,t,n){var i=[];return t=_(t,n),m.each(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i},m.reject=function(e,t,n){return m.filter(e,m.negate(_(t)),n)},m.every=m.all=function(e,t,n){t=_(t,n);for(var i=!S(e)&&m.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},m.some=m.any=function(e,t,n){t=_(t,n);for(var i=!S(e)&&m.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,i){return S(e)||(e=m.values(e)),("number"!=typeof n||i)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=b(function(e,t,n){var i,o;return m.isFunction(t)?o=t:m.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var r=o;if(!r){if(i&&i.length&&(e=x(e,i)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var i,o,r=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=S(e)?e:m.values(e)).length;s<l;s++)null!=(i=e[s])&&i>r&&(r=i);else t=_(t,n),m.each(e,function(e,n,i){((o=t(e,n,i))>a||o===-1/0&&r===-1/0)&&(r=e,a=o)});return r},m.min=function(e,t,n){var i,o,r=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=S(e)?e:m.values(e)).length;s<l;s++)null!=(i=e[s])&&i<r&&(r=i);else t=_(t,n),m.each(e,function(e,n,i){((o=t(e,n,i))<a||o===1/0&&r===1/0)&&(r=e,a=o)});return r},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return S(e)||(e=m.values(e)),e[m.random(e.length-1)];var i=S(e)?m.clone(e):m.values(e),o=k(i);t=Math.max(Math.min(t,o),0);for(var r=o-1,a=0;a<t;a++){var s=m.random(a,r),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,t)},m.sortBy=function(e,t,n){var i=0;return t=_(t,n),m.pluck(m.map(e,function(e,n,o){return{value:e,index:i++,criteria:t(e,n,o)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var P=function(e,t){return function(n,i,o){var r=t?[[],[]]:{};return i=_(i,o),m.each(n,function(t,o){var a=i(t,o,n);e(r,t,a)}),r}};m.groupBy=P(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=P(function(e,t,n){e[n]=t}),m.countBy=P(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1});var D=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?u.call(e):m.isString(e)?e.match(D):S(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:S(e)?e.length:m.keys(e).length},m.partition=P(function(e,t,n){e[n?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var O=function(e,t,n,i){for(var o=(i=i||[]).length,r=0,a=k(e);r<a;r++){var s=e[r];if(S(s)&&(m.isArray(s)||m.isArguments(s)))if(t)for(var l=0,c=s.length;l<c;)i[o++]=s[l++];else O(s,t,n,i),o=i.length;else n||(i[o++]=s)}return i};m.flatten=function(e,t){return O(e,t,!1)},m.without=b(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,n,i){m.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=_(n,i));for(var o=[],r=[],a=0,s=k(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&r===c||o.push(l),r=c):n?m.contains(r,c)||(r.push(c),o.push(l)):m.contains(o,l)||o.push(l)}return o},m.union=b(function(e){return m.uniq(O(e,!0,!0))}),m.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=k(e);i<o;i++){var r=e[i];if(!m.contains(t,r)){var a;for(a=1;a<n&&m.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},m.difference=b(function(e,t){return t=O(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,k).length||0,n=Array(t),i=0;i<t;i++)n[i]=m.pluck(e,i);return n},m.zip=b(m.unzip),m.object=function(e,t){for(var n={},i=0,o=k(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var I=function(e){return function(t,n,i){n=_(n,i);for(var o=k(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}};m.findIndex=I(1),m.findLastIndex=I(-1),m.sortedIndex=function(e,t,n,i){for(var o=(n=_(n,i,1))(t),r=0,a=k(e);r<a;){var s=Math.floor((r+a)/2);n(e[s])<o?r=s+1:a=s}return r};var M=function(e,t,n){return function(i,o,r){var a=0,s=k(i);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return i[r=n(i,o)]===o?r:-1;if(o!=o)return(r=t(u.call(i,a,s),m.isNaN))>=0?r+a:-1;for(r=e>0?a:s-1;r>=0&&r<s;r+=e)if(i[r]===o)return r;return-1}};m.indexOf=M(1,m.findIndex,m.sortedIndex),m.lastIndexOf=M(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,o=e.length;i<o;)n.push(u.call(e,i,i+=t));return n};var $=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=j(e.prototype),a=e.apply(r,o);return m.isObject(a)?a:r};m.bind=b(function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var i=b(function(o){return $(e,i,t,this,n.concat(o))});return i}),m.partial=b(function(e,t){var n=m.partial.placeholder,i=function(){for(var o=0,r=t.length,a=Array(r),s=0;s<r;s++)a[s]=t[s]===n?arguments[o++]:t[s];for(;o<arguments.length;)a.push(arguments[o++]);return $(e,i,this,this,a)};return i}),m.partial.placeholder=m,m.bindAll=b(function(e,t){var n=(t=O(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=m.bind(e[i],e)}}),m.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return m.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},m.delay=b(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var i,o,r,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:m.now(),i=null,a=e.apply(o,r),i||(o=r=null)},c=function(){var c=m.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return o=this,r=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),s=c,a=e.apply(o,r),i||(o=r=null)):i||!1===n.trailing||(i=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(i),s=0,i=o=r=null},c},m.debounce=function(e,t,n){var i,o,r=function(t,n){i=null,n&&(o=e.apply(t,n))},a=b(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(r,t),s&&(o=e.apply(this,a))}else i=m.delay(r,t,this,a);return o});return a.cancel=function(){clearTimeout(i),i=null},a},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=b;var T=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(e,t){var n=R.length,i=e.constructor,o=m.isFunction(i)&&i.prototype||s,r="constructor";for(m.has(e,r)&&!m.contains(t,r)&&t.push(r);n--;)(r=R[n])in e&&e[r]!==o[r]&&!m.contains(t,r)&&t.push(r)};m.keys=function(e){if(!m.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return T&&L(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return T&&L(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},m.mapObject=function(e,t,n){t=_(t,n);for(var i=m.keys(e),o=i.length,r={},a=0;a<o;a++){var s=i[a];r[s]=t(e[s],s,e)}return r},m.pairs=function(e){for(var t=m.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},m.invert=function(e){for(var t={},n=m.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var A=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=e(r),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=r[c])}return n}};m.extend=A(m.allKeys),m.extendOwn=m.assign=A(m.keys),m.findKey=function(e,t,n){t=_(t,n);for(var i,o=m.keys(e),r=0,a=o.length;r<a;r++)if(t(e[i=o[r]],i,e))return i};var N,E,W=function(e,t,n){return t in n};m.pick=b(function(e,t){var n={},i=t[0];if(null==e)return n;m.isFunction(i)?(t.length>1&&(i=w(i,t[1])),t=m.allKeys(e)):(i=W,t=O(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var a=t[o],s=e[a];i(s,a,e)&&(n[a]=s)}return n}),m.omit=b(function(e,t){var n,i=t[0];return m.isFunction(i)?(i=m.negate(i),t.length>1&&(n=t[1])):(t=m.map(O(t,!1,!1),String),i=function(e,n){return!m.contains(t,n)}),m.pick(e,i,n)}),m.defaults=A(m.allKeys,!0),m.create=function(e,t){var n=j(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var a=n[r];if(t[a]!==o[a]||!(a in o))return!1}return!0},N=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&E(e,t,n,i)},E=function(e,t,n,i){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var o=d.call(e);if(o!==d.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!N(e[c],t[c],n,i))return!1}else{var u,h=m.keys(e);if(c=h.length,m.keys(t).length!==c)return!1;for(;c--;)if(u=h[c],!m.has(t,u)||!N(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0},m.isEqual=function(e,t){return N(e,t)},m.isEmpty=function(e){return null==e||(S(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=f||function(e){return"[object Array]"===d.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")});var B=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof B&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return null!=e&&h.call(e,t);for(var n=t.length,i=0;i<n;i++){var o=t[i];if(null==e||!h.call(e,o))return!1;e=e[o]}return!!n},m.noConflict=function(){return o._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return x(t,e)}:Q(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?x(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var i=Array(Math.max(0,e));t=w(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=m.invert(U),F=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};m.escape=F(U),m.unescape=F(H),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var i=t.length;if(!i)return m.isFunction(n)?n.call(e):n;for(var o=0;o<i;o++){var r=null==e?void 0:e[t[o]];void 0===r&&(r=n,o=i),e=m.isFunction(r)?r.call(e):r}return e};var q=0;m.uniqueId=function(e){var t=++q+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+Y[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var i,o=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(o,function(t,n,i,o,s){return a+=e.slice(r,s).replace(V,X),r=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return i.call(this,e,m)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var J=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),J(this,n.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}}),m.each(["concat","join","slice"],function(e){var t=a[e];m.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return m}.apply(t,[]))||(n.exports=i)}()}).call(this,n(5),n(14)(e))},function(e,t,n){"use strict";var i=function(e){new function(e){return e=e,{init:function(){var t=e.find("video.video-lazyload");if("IntersectionObserver"in window){var n=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){for(var t in e.target.children){var i=e.target.children[t];"string"==typeof i.tagName&&"SOURCE"===i.tagName&&void 0!=i.dataset.src&&(i.src=i.dataset.src)}e.target.load(),e.target.classList.remove("video-lazyload"),e.target.classList.add("loaded"),e.target.classList.contains("autoplay")&&e.target.setAttribute("autoplay",""),n.unobserve(e.target)}})});t.each(function(){n.observe(this)})}}}}(e).init()},o={loadVideosInstantly:function(e){!function(e){e.find("video.video-lazyload").each(function(){for(var e in this.children){var t=this.children[e];"string"==typeof t.tagName&&"SOURCE"===t.tagName&&void 0!=t.dataset.src&&(t.src=t.dataset.src)}this.load(),this.classList.remove("video-lazyload"),this.classList.add("loaded"),this.classList.contains("autoplay")&&this.setAttribute("autoplay","")})}(e)},initLazyLoadVideosOnScroll:function(e){i(e)},loadSpecificVideo:function(e){!function(e){if(e.classList.contains("video-lazyload")){for(var t in e.children){var n=e.children[t];"string"==typeof n.tagName&&"SOURCE"===n.tagName&&void 0!=n.dataset.src&&(n.src=n.dataset.src)}e.load(),e.classList.remove("video-lazyload"),e.classList.add("loaded"),e.classList.contains("autoplay")&&e.setAttribute("autoplay","")}}(e)}};t.a=o},function(e,t,n){"use strict";n.r(t),n.d(t,"load_visible_images_then_rest_controller",function(){return s});var i=n(0),o=function(e){if(e.hasClass("setsizes")){var t=e.attr("data-srcset"),n=e.attr("data-src");e.attr({src:n,srcset:t})}else if(e.hasClass("lay-gif")||e.hasClass("lay-image-original")){n=e.attr("data-src");e.attr("src",n)}},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getBoundingClientRect();return n.top<=window.innerHeight&&n.height>0+t},a=function(e,t,n){return 1==e};var s={initLoadImages:function(e){i.Utility.isTouchDevice?e.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){o(jQuery(this))}):new function(e){var t=e,n=[],i=[],s=[],l=function(){for(var e=0;e<s.length;e++){var t=jQuery(s[e]);o(t)}};return{loadImages:function(){t.find("img.setsizes, img.lay-gif, img.lay-image-original").each(function(){r(this)?(n.push(this),i.push(!1)):s.push(this)});for(var e=0;e<n.length;e++)!function(e){var t=jQuery(n[e]);o(t),t[0].complete?i[e]=!0:t[0].addEventListener("load",function(){i[e]=!0})}(e);if(n.length>0)var c=setInterval(function(){i.every(a)&&(l(),clearInterval(c))},30);else l()}}}(e).loadImages()},loadImage:o,isInsideViewportHeight:r}},function(e,t,n){"use strict";var i={triggerNewProjectPageLayoutObj:function(e){window.laytheme.trigger("newprojectpagelayoutobj",e),window.Frontend.GlobalEvents.trigger("newprojectpagelayoutobj",e)},triggerProjectPageShown:function(){window.laytheme.trigger("projectpageshown"),window.Frontend.GlobalEvents.trigger("projectpageshown")},triggerNewPage:function(e,t,n){window.laytheme.trigger("newpage",e,t,n),window.Frontend.GlobalEvents.trigger("newpage",e,t,n)},triggerNewPageShown:function(e,t,n){window.laytheme.trigger("newpageshown",e,t,n),window.Frontend.GlobalEvents.trigger("newpageshown",e,t,n)},triggerSwitchedDesktopLayoutToCustomPhoneLayout:function(){window.laytheme.trigger("switched_desktoplayout_to_customphonelayout")},triggerSwitchedCustomPhoneLayoutToDesktopLayout:function(){window.laytheme.trigger("switched_customphonelayout_to_desktoplayout")},triggerGridShown:function(e,t,n,i){window.laytheme.trigger("gridshown",e,t,n,i)},triggerSizeChanged:function(e){window.laytheme.trigger("sizechanged",e)},triggerPushState:function(){window.laytheme.trigger("pushstate")}};t.a=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(0),o=[],r=function(e){this.identifier=e,this.$nav_el=jQuery("nav."+e),this.suffix="primary"==e?"":"_"+e,this.nav_hide=frontendPassedData.nav_customizer_properties["nav_hide"+this.suffix],this.nav_hidewhenscrollingdown=frontendPassedData.nav_customizer_properties["nav_hidewhenscrollingdown"+this.suffix],this.nav_hidewhenscrolling_show_on_mouseover=frontendPassedData.nav_customizer_properties["nav_hidewhenscrolling_show_on_mouseover"+this.suffix],this.nav_position=frontendPassedData.nav_customizer_properties["nav_position"+this.suffix],this.rect=null,this.height_and_space_around=null,this.set_height_and_space_around()};r.prototype.setRect=function(){this.rect=this.$nav_el[0].getBoundingClientRect()},r.prototype.set_height_and_space_around=function(){this.setRect(),this.height_and_space_around=this.$nav_el.outerHeight(),-1!=this.nav_position.indexOf("top")?this.height_and_space_around+=this.rect.top:this.height_and_space_around+=window.innerHeight-this.rect.bottom,this.height_and_space_around+=20},r.prototype.show_on_mouseover=function(e){this.nav_hidewhenscrolling_show_on_mouseover&&-1!=this.nav_position.indexOf(e)&&this.show()},r.prototype.show=function(){this.nav_hidewhenscrollingdown&&!this.nav_hide&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||this.$nav_el.hasClass("hidden")&&this.$nav_el.removeClass("hidden").css({top:"",bottom:""}))},r.prototype.hide=function(){if(this.nav_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!this.nav_hide&&(this.setRect(),!this.$nav_el.hasClass("hidden"))){if(-1!=this.nav_position.indexOf("top")){var e=this.rect.top-this.height_and_space_around;this.$nav_el.css("top",e+"px")}else{e=window.innerHeight-this.rect.bottom-this.height_and_space_around;this.$nav_el.css("bottom",e+"px")}this.$nav_el.addClass("hidden")}};jQuery(document).ready(function(){!function(){switch(parseInt(frontendPassedData.nav_amount,10)){case 1:var e=new r("primary");o=[e];break;case 2:e=new r("primary");var t=new r("second_menu");o=[e,t];break;case 3:e=new r("primary"),t=new r("second_menu");var n=new r("third_menu");o=[e,t,n];break;case 4:e=new r("primary"),t=new r("second_menu"),n=new r("third_menu");var i=new r("fourth_menu");o=[e,t,n,i]}}()});var a=function(){return o},s=Backbone.Radio.channel("events"),l=jQuery(document).outerHeight(),c={initModule:function(){x()},showAll:function(){k()},hideAll:function(){C()},setJqueryMap:function(){w()},hideSt:function(){g()},showSt:function(){p()},getStPos:function(){return y()}},u=(t.default=c,20),d=50,h={oldScrollY:0,stheight:0,st_pos:"top",st_hidewhenscrollingdown:!1,st_exists:!0,navbar_exists:!0,navbar_hidewhenscrollingdown:!1,mouseover_target_area_bottom:0,mouseover_target_area_top:0},f={$navbar:null,$st:null},y=function(){return h.st_pos},p=function(){h.st_hidewhenscrollingdown&&h.st_exists&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||f.$st.hasClass("hidden")&&f.$st.removeClass("hidden").css({top:"",bottom:""}))},g=function(){if(h.st_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&h.st_exists&&!f.$st.hasClass("hidden")){var e=f.$st[0].getBoundingClientRect();if("top"==h.st_pos||"center"==h.st_pos){var t=e.top-h.stheight;f.$st.css("top",t+"px")}else if("bottom"==h.st_pos){t=window.innerHeight-e.bottom-h.stheight;f.$st.css("bottom",t+"px")}f.$st.addClass("hidden")}},m=function(){for(var e=a(),t=0;t<e.length;t++)e[t].hide()},v=function(){for(var e=a(),t=0;t<e.length;t++)e[t].show()},w=function(){h.navbar_exists&&(f.$navbar=jQuery(".navbar")),h.st_hidewhenscrollingdown&&h.st_exists&&(f.$st=jQuery(".sitetitle"))},b=function(){if(h.navbar_exists&&h.navbar_hidewhenscrollingdown&&i.Utility.isDesktopOrTabletSize&&!f.$navbar.hasClass("hidden")){var e=f.$navbar[0].getBoundingClientRect();"top"==frontendPassedData.navbar_position?f.$navbar.css("top",-e.height+"px"):"bottom"==frontendPassedData.navbar_position&&f.$navbar.css("bottom",-e.height+"px"),f.$navbar.addClass("hidden")}},j=function(){h.navbar_exists&&h.navbar_hidewhenscrollingdown&&(0!=window.lay_lightbox_opened&&void 0!==window.lay_lightbox_opened||f.$navbar.removeClass("hidden").css({top:"",bottom:""}))},Q=function(){if(h.stheight=0,h.st_exists&&h.st_hidewhenscrollingdown){var e=f.$st.outerHeight();"top"==h.st_pos||"center"==h.st_pos?e+=f.$st[0].getBoundingClientRect().top:"bottom"==h.st_pos&&(e+=window.innerHeight-f.$st[0].getBoundingClientRect().bottom),e+=u,h.stheight=e}},x=function(){if(-1!=frontendPassedData.st_position.indexOf("top")?h.st_pos="top":-1!=frontendPassedData.st_position.indexOf("bottom")?h.st_pos="bottom":h.st_pos="center",1==frontendPassedData.st_hidewhenscrollingdown?h.st_hidewhenscrollingdown=!0:h.st_hidewhenscrollingdown=!1,1==frontendPassedData.st_hide?h.st_exists=!1:h.st_exists=!0,1==frontendPassedData.navbar_hide?h.navbar_exists=!1:h.navbar_exists=!0,1==frontendPassedData.navbar_hidewhenscrollingdown?h.navbar_hidewhenscrollingdown=!0:h.navbar_hidewhenscrollingdown=!1,w(),Q(),s.on("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>0&&e<l-window.innerHeight&&i.Utility.isDesktopOrTabletSize&&(e>h.oldScrollY&&e>d&&(h.startedScrollingUpY=e,m(),g(),b()),e<h.oldScrollY&&e<h.startedScrollingUpY-d/2&&(v(),p(),j()),e<d&&(v(),p(),j()),h.oldScrollY=e)}),jQuery(window).on("resize",_.debounce(function(){l=jQuery(document).outerHeight(),Q();for(var e=a(),t=0;t<e.length;t++)e[t].set_height_and_space_around()},300)),jQuery(window).on("mousemove",_.throttle(function(e){if(i.Utility.isDesktopOrTabletSize){var t=a();if(e.clientY<=h.mouseover_target_area_top){for(var n=0;n<t.length;n++)t[n].show_on_mouseover("top");"top"==h.st_pos&&p(),"top"==frontendPassedData.navbar_position&&j()}if(e.clientY>=window.innerHeight-h.mouseover_target_area_bottom){for(n=0;n<t.length;n++)t[n].show_on_mouseover("bottom");"bottom"==h.st_pos&&p(),"bottom"==frontendPassedData.navbar_position&&j()}}},100)),function(){var e=0;"top"==h.st_pos&&(e=h.stheight);for(var t=a(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("top")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("top"==frontendPassedData.navbar_position&&h.navbar_exists){var o=f.$navbar.height();e=e<o?o:e}h.mouseover_target_area_top=e}(),function(){var e=0;"bottom"==h.st_pos&&(e=h.stheight);for(var t=a(),n=0;n<t.length;n++)if(-1!=t[n].nav_position.indexOf("bottom")){var i=t[n].height_and_space_around;i>e&&(e=i)}if("bottom"==frontendPassedData.navbar_position&&h.navbar_exists){var o=f.$navbar.height();e=e<o?o:e}h.mouseover_target_area_bottom=e}(),jQuery(".sitetitle").hasClass("img")){var e=jQuery(".sitetitle img")[0];e.complete?Q():e.onload=function(){Q()}}window.laytheme.on("newpageshown",function(){k()})},C=function(){m(),g(),hideNavBar()},k=function(){v(),p(),j()}},function(e,t,n){!function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=function(){function e(e){var t=e.onEnter,n=e.onExit;this._execution=null,this.inBoundary=this.inBoundary.bind(this),this.enter=this.enter.bind(this),this._onEnter=t||null,this._onExit=n||null}return e.prototype.inBoundary=function(){return!!this._execution},e.prototype.enter=function(e){if(this._execution)return e?e(this._execution.onEnterResult):void 0;var t=this._execution={onEnterResult:void 0},n=void 0,i=!1,o=void 0;try{this._onEnter&&(t.onEnterResult=this._onEnter()),e&&(n=e(t.onEnterResult))}catch(e){i=!0,o=e}this._execution=null;var r=!i;if(this._onExit)try{this._onExit({onEnterResult:t.onEnterResult,exceptionOccurred:i,retrieveException:function(){return r=!0,o}})}catch(e){if(r)throw e}if(!r)throw o;return n},e}(),s={RIGHT:"right",DOWN:"down"},l=/px$/;function c(e){if(!l.test(e))throw new Error("String missing `px` suffix");return parseFloat(e.slice(0,-2))}var u=function(){function e(n){var i,o=this;t(this,e),this._$el=n,this._width=null,this._height=null,this._observer="ResizeObserver"in window?new ResizeObserver(function(e){var t=e[e.length-1],n=t.borderBoxSize[0]||t.borderBoxSize;o._width=n.inlineSize,o._height=n.blockSize}):null,null===(i=this._observer)||void 0===i||i.observe(n)}return i(e,[{key:"getWidth",value:function(){if(null!==this._width)return this._width;var e=c(window.getComputedStyle(this._$el).width);return this._observer&&(this._width=e),e}},{key:"getHeight",value:function(){if(null!==this._height)return this._height;var e=c(window.getComputedStyle(this._$el).height);return this._observer&&(this._height=e),e}},{key:"tearDown",value:function(){var e;null===(e=this._observer)||void 0===e||e.disconnect(),this._observer=null}}]),e}(),d=function(){function e(n,i,o){t(this,e);var r=document.createElement("div");r.style.display="block",r.style.opacity="0",r.style.position="absolute",r.style.margin="0",r.style.padding="0",i===s.RIGHT&&(r.style.whiteSpace="nowrap"),this._sizeWatcher=new u(r),r.appendChild(n),this._$container=r,this._$el=n,this._direction=i,this._metadata=o,this._offset=null}return i(e,[{key:"getSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inverse,n=void 0!==t&&t,i=this._direction;return n&&(i=i===s.RIGHT?s.DOWN:s.RIGHT),i===s.RIGHT?this._sizeWatcher.getWidth():this._sizeWatcher.getHeight()}},{key:"setOffset",value:function(e){this._offset!==e&&(this._offset=e,this._$container.style.opacity="1",this._direction===s.RIGHT?this._$container.style.left="".concat(e,"px"):this._$container.style.top="".concat(e,"px"))}},{key:"remove",value:function(){this._sizeWatcher.tearDown(),this._$container.parentNode.removeChild(this._$container)}},{key:"getContainer",value:function(){return this._$container}},{key:"getOriginalEl",value:function(){return this._$el}},{key:"getMetadata",value:function(){return this._metadata}}]),e}(),h=function(){function e(n,i){t(this,e),this._$el=n,this._direction=i,this._transitionState=null}return i(e,[{key:"setOffset",value:function(e,t,n){var i=this._transitionState,o=!i||i.rate!==t;if(i&&!n){var r=performance.now()-i.time;if(r<2e4&&!o)return}if((n||o)&&(this._direction===s.RIGHT?this._$el.style.transform="translateX(".concat(e,"px)"):this._$el.style.transform="translateY(".concat(e,"px)"),this._$el.style.transition="none",this._$el.offsetLeft),t&&(n||o)&&(this._$el.style.transition="transform ".concat(3e4,"ms linear")),t){var a=e+t/1e3*3e4;this._direction===s.RIGHT?this._$el.style.transform="translateX(".concat(a,"px)"):this._$el.style.transform="translateY(".concat(a,"px)")}this._transitionState={time:performance.now(),rate:t}}}]),e}();function f(e){window.setTimeout(function(){return e()},0)}function y(e){if("string"==typeof e||"number"==typeof e){var t=document.createElement("div");return t.textContent=e+"",t}return e}function p(e){return e.length?e[e.length-1]:null}function g(e){return e.length?e[0]:null}var m=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.rate,r=void 0===o?-25:o,l=i.upDown,c=void 0!==l&&l,u=i.startOnScreen,d=void 0!==u&&u;t(this,e),this._boundary=new a({onEnter:function(){return{callbacks:[]}},onExit:function(e){var t=e.onEnterResult.callbacks;t.forEach(function(e){return f(function(){return e()})})}}),this._waitingForItem=!0,this._nextItemWouldBeTouching=d,this._rate=r,this._lastEffectiveRate=r,this._justReversedRate=!1,this._correlation=null,this._direction=c?s.DOWN:s.RIGHT,this._onItemRequired=[],this._onItemRemoved=[],this._onAllItemsRemoved=[],this._windowOffset=0,this._containerSize=0,this._containerSizeWatcher=null,this._items=[],this._pendingItem=null,this._visible=!!document.hidden;var y=document.createElement("div");y.style.display="block",y.style.overflow="hidden",y.style.position="relative",this._direction===s.DOWN&&(y.style.height="100%"),this._$window=y,this.windowInverseSize=null,this._updateWindowInverseSize();var p=document.createElement("div");this._$moving=p,p.style.display="block",p.style.position="absolute",p.style.left="0",p.style.right="0",this._slider=new h(p,this._direction),y.appendChild(p),n.appendChild(y)}return i(e,[{key:"onItemRequired",value:function(e){this._onItemRequired.push(e)}},{key:"onItemRemoved",value:function(e){this._onItemRemoved.push(e)}},{key:"onAllItemsRemoved",value:function(e){this._onAllItemsRemoved.push(e)}},{key:"getNumItems",value:function(){return this._items.length}},{key:"setRate",value:function(e){e!==this._rate&&(e*this._lastEffectiveRate<0&&(this._justReversedRate=!this._justReversedRate),this._rate=e,e?(this._lastEffectiveRate=e,this._items.length||(this._waitingForItem=!0)):this._waitingForItem=!1,this._tick())}},{key:"getRate",value:function(){return this._rate}},{key:"clear",value:function(){var e=this;this._boundary.enter(function(){e._items.forEach(function(t){var n=t.item;return e._removeItem(n)}),e._items=[],e._waitingForItem=!0,e._nextItemWouldBeTouching=!1,e._updateWindowInverseSize(),e._cleanup()})}},{key:"isWaitingForItem",value:function(){return this._waitingForItem}},{key:"appendItem",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.metadata,o=void 0===i?null:i;this._boundary.enter(function(){if(!t._waitingForItem)throw new Error("No room for item.");e=y(e);var n=t._items.some(function(t){var n=t.item;return n.getOriginalEl()===e});if(n)throw new Error("Item already exists.");t._waitingForItem=!1,t._pendingItem=new d(e,t._direction,o),t._tick()})}},{key:"_removeItem",value:function(e){var t=this;this._boundary.enter(function(n){var i=n.callbacks;e.remove(),t._items.splice(t._items.indexOf(e),1),t._onItemRemoved.forEach(function(t){i.push(function(){return t(e.getOriginalEl())})})})}},{key:"_updateWindowInverseSize",value:function(){if(this._direction!==s.DOWN){var e=Math.max.apply(Math,o(this._items.map(function(e){var t=e.item;return t.getSize({inverse:!0})})));this.windowInverseSize!==e&&(this.windowInverseSize=e,this._$window.style.height="".concat(e,"px"))}}},{key:"_scheduleRender",value:function(){var e=this;this._renderTimer||(this._renderTimer=window.setTimeout(function(){return e._tick()},100))}},{key:"_cleanup",value:function(){var e;null===(e=this._containerSizeWatcher)||void 0===e||e.tearDown(),this._containerSizeWatcher=null,this._correlation=null,this._windowOffset=0}},{key:"_stopRendering",value:function(){window.clearTimeout(this._renderTimer)}},{key:"_tick",value:function(){var e=this;this._boundary.enter(function(t){var n=t.callbacks;if(e._renderTimer&&clearTimeout(e._renderTimer),e._renderTimer=null,e._items.length||e._pendingItem)if(e._scheduleRender(),e._$window.isConnected){e._containerSizeWatcher||(e._containerSizeWatcher=new u(e._$window));var i=performance.now(),r=!1;if(e._correlation){var a=i-e._correlation.time;e._windowOffset=e._correlation.offset+-1*e._correlation.rate*(a/1e3)}else r=!0;if(Math.abs(e._windowOffset)>5e5){r=!0;var l=e._windowOffset;e._items.forEach(function(e){return e.offset-=l}),e._correlation=null,e._windowOffset=0}var c=!document.hidden,d=c&&e._visible!==c;e._visible=c,e._slider.setOffset(-1*e._windowOffset,e._rate,r||d),e._correlation&&e._correlation.rate===e._rate||(e._correlation={time:i,offset:e._windowOffset,rate:e._rate}),e._containerSize=e._direction===s.RIGHT?e._containerSizeWatcher.getWidth():e._containerSizeWatcher.getHeight();var h=Math.max(e._containerSize,1),y=e._justReversedRate;e._justReversedRate=!1;var m=e._nextItemWouldBeTouching;e._nextItemWouldBeTouching=null;var v=null;if(e._pendingItem){e._$moving.appendChild(e._pendingItem.getContainer());var w=e._rate<=0?p(e._items):g(e._items);e._rate<=0?e._items=[].concat(o(e._items),[{item:e._pendingItem,appendRate:e._rate,offset:m?w?w.offset+w.item.getSize():e._windowOffset:e._windowOffset+h}]):e._items=[{item:e._pendingItem,appendRate:e._rate,offset:m?w?w.offset-e._pendingItem.getSize():e._windowOffset+h-e._pendingItem.getSize():e._windowOffset-e._pendingItem.getSize()}].concat(o(e._items)),e._pendingItem=null}var _,b=.1*Math.abs(e._rate),j=!1;if(!e._waitingForItem&&e._items.length){var Q=g(e._items),x=p(e._items),C=e._rate<=0?x:Q;(e._rate<=0&&x.offset+C.item.getSize()-e._windowOffset<=h+b||e._rate>0&&C.offset-e._windowOffset>-1*b)&&(e._waitingForItem=j=!0,v=y?null:{$el:C.item.getOriginalEl(),metadata:C.item.getMetadata()})}v&&(e._nextItemWouldBeTouching=!0),e._items=o(e._items).filter(function(t){var n=t.item,i=t.offset,o=e._rate<0?i+n.getSize()>e._windowOffset:i<e._windowOffset+h;return o||e._removeItem(n),o}),e._items.length||e._onAllItemsRemoved.forEach(function(e){return n.push(e)}),e._items.reduce(function(e,t){return null!==e&&t.offset<e&&(t.offset=e),t.item.setOffset(t.offset),t.offset+t.item.getSize()},null),e._updateWindowInverseSize(),j&&(e._onItemRequired.some(function(e){return function(e){try{return e()}catch(e){f(function(){throw e})}}(function(){return!!(_=e({immediatelyFollowsPrevious:!!v,touching:v}))})}),_&&e.appendItem(_),e._nextItemWouldBeTouching=!1)}else e._correlation=null;else e._cleanup()})}}]),e}(),v=function(e,t){var n,i={startString1:0,startString2:0,length:0},o=(n={},e.forEach(function(e,t){n[e]=n[e]||[],n[e].push(t)}),n),r=[];return t.forEach(function(e,t){var n,a=[],s=o[e]||[];s.forEach(function(e){(n=(e&&r[e-1]||0)+1)>i.length&&(i.length=n,i.startString1=e-n+1,i.startString2=t-n+1),a[e]=n}),r=a}),i};e.Marquee=m,e.loop=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=-1,o=t.slice(),r=function(t){var r;if(o.length&&e.isWaitingForItem())if(n&&t&&!0!==(null===(r=t.metadata)||void 0===r?void 0:r.isSeperator)){var a=y(n());e.appendItem(a,{metadata:{isSeperator:!0}})}else{var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=(i+e)%o.length;return{builder:o[t],index:t}}(),l=s.builder,c=s.index;i=c,e.appendItem(y(l()))}};return e.onItemRequired(function(e){var t=e.touching;return r(t)}),r(),{update:function(e){var t,n,a,s,l,c;t=o.map(function(e,t){var n=o.indexOf(e);return n<t?n:t}),n=e.map(function(e,t){return o.indexOf(e)}),a=v(t,n),s=a.startString1,l=a.startString2,c=a.length,i=i>=s&&i<s+c?i+(l-s):-1,o=e.slice(),r(!1)}}},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.r(t);var i=n(2),o={isIOS:!1,isTouchDevice:!1},r={initModule:function(){s()}};t.default=r;var a=function(){jQuery(".html5video video").each(function(){var e=this,t=jQuery(this.parentNode).find(".html5video-customplayicon"),n=jQuery(this.parentNode).find(".html5-video-placeholder-image");t.on("click",function(){jQuery(e).one("canplay",function(){this.play()}),i.a.loadSpecificVideo(e),jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),n.hide()})}),jQuery(".html5video .html5-video-placeholder-image.playpauseonclick").each(function(){var e=jQuery(this.parentNode).find("video"),t=jQuery(this.parentNode).find(".html5video-customplayicon");jQuery(this).on("click",function(){jQuery(e).one("canplay",function(){this.play()}),i.a.loadSpecificVideo(e),jQuery(e).addClass("userinteractedwith-playing"),jQuery(e).removeClass("userinteractedwith-paused"),jQuery(e).show(),jQuery(e)[0].play(),jQuery(this).hide(),t.hide()})});var e=".html5video video.playpauseonclick";o.isTouchDevice&&(e=".html5video video"),jQuery(e).on("click",function(){this.paused?(jQuery(this).one("canplay",function(){this.play()}),i.a.loadSpecificVideo(this),this.play(),jQuery(this.parentNode).find(".html5video-customplayicon").hide(),jQuery(this).addClass("userinteractedwith-playing"),jQuery(this).removeClass("userinteractedwith-paused")):(this.pause(),jQuery(this.parentNode).find(".html5video-customplayicon").show(),jQuery(this).removeClass("userinteractedwith-playing"),jQuery(this).addClass("userinteractedwith-paused"))})},s=function(){o.isIOS=/iPad|iPhone|iPod/.test(navigator.platform),o.isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),window.laytheme.on("newpageshown",a),o.isTouchDevice||"play_on_mouseover"==frontendPassedData.video_thumbnail_mouseover_behaviour&&(jQuery("body").on("mouseenter",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&(jQuery(e[0]).one("canplay",function(){this.play()}),i.a.loadSpecificVideo(e[0]),e[0].play())}),jQuery("body").on("mouseleave",".thumb-rel",function(){var e=jQuery(this).find("video");e.length>0&&e[0].pause()})),jQuery(document).on("click",".lay-mute-unmute-button",function(e){e.stopPropagation(),e.preventDefault(),jQuery(this).toggleClass("unmuted");var t=jQuery(this.parentNode).find("video")[0];if(t.muted=!t.muted,jQuery(this.parentNode).hasClass("video-slide")&&0==t.muted){var n=jQuery(this).closest(".lay-carousel").find(".lay-mute-unmute-button"),i=jQuery(this);n.each(function(){jQuery(this).is(i)||(jQuery(this).removeClass("unmuted"),jQuery(this.parentNode).find("video")[0].muted=!0)})}})}},function(e,t,n){"use strict";n.r(t);var i=n(0),o=Backbone.Radio.channel("events"),r={initModule:function(){l()}},a={$cover:null},s={doDarken:!1,doParallax:!1,enabled:!1},l=function(){"on"==frontendPassedData.misc_options_cover&&(s.enabled=!0,"on"==frontendPassedData.cover_darken_when_scrolling&&(s.doDarken=!0),"on"==frontendPassedData.cover_parallaxmove_when_scrolling&&(s.doParallax=!0),window.laytheme.on("newpage",function(e,t,n){p()}),window.laytheme.on("newpageshown",function(){p(),a.$cover=jQuery(".cover-region"),a.$cover.length>0&&(d(),i.Utility.isPhoneSize&&1==frontendPassedData.cover_disable_for_phone?s.enabled=!1:s.enabled=!0,v(),f(),u(),g())}))},c=function(e){switch(e){case"desktop":case"tablet":1==frontendPassedData.cover_disable_for_phone&&0==s.enabled&&(s.enabled=!0,g());break;case"phone":1==frontendPassedData.cover_disable_for_phone&&(s.enabled=!1,a.$cover.attr("style",""),jQuery(".cover-region").removeClass("clickable-cover"),jQuery(".cover-region").on("click"),p())}},u=function(){jQuery(window).off("window_width_changed",h),jQuery(window).on("window_width_changed",h)},d=function(){window.laytheme.off("sizechanged",c),window.laytheme.on("sizechanged",c)},h=function(){y()},f=function(){jQuery(".cover-region").css({top:"",height:"","min-height":""}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:"","min-height":""})},y=function(){if(a.$cover.is(":visible")&&s.enabled&&i.Utility.isPhoneSize){var e=jQuery(".navbar").height();jQuery(".navbar").is(":visible")||(e=0),jQuery(".cover-region").css({top:e+"px",height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"}),jQuery(".cover-region-placeholder, .cover-region .row, .cover-region .row-inner, .cover-region .column-wrap, .cover-inner").css({height:window.innerHeight-e+"px","min-height":window.innerHeight-e+"px"})}else f()},p=function(){o.off("scroll",m)},g=function(){o.off("scroll",m),o.on("scroll",m)},m=function(){var e=window.pageYOffset||document.documentElement.scrollTop;if(e<=window.innerHeight&&a.$cover.is(":visible")&&s.enabled){if(s.doDarken){var t=i.utility_controller.map(e,0,window.innerHeight,1,.2);t>1&&(t=1),a.$cover.css({filter:"brightness("+t+")","-webkit-filter":"brightness("+t+")"})}if(s.doParallax){var n=i.utility_controller.map(e,0,window.innerHeight,0,window.innerHeight/3);a.$cover.css({transform:"translateY(-"+n+"px)","-webkit-transform":"translateY(-"+n+"px)"})}}},v=function(){"on"==frontendPassedData.cover_scrolldown_on_click&&s.enabled&&(jQuery(".cover-region").addClass("clickable-cover"),jQuery(".cover-region").on("click",function(){var e=jQuery("html, body"),t=jQuery(".cover-content").offset().top+1;e.animate({scrollTop:t},400,"easeOutSine",function(){e.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",w)}),e.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",e,w)}))},w=function(e){e.data.stop()},b=n(4),j=function(){"on"==frontendPassedData.phone_layout_active&&(window.laytheme.on("newpageshown",x),C())},Q={mainHasCustomPhoneGrid:!1,footerHasCustomPhoneGrid:!1},x=function(){Q.mainHasCustomPhoneGrid=1==jQuery("#custom-phone-grid").length,Q.footerHasCustomPhoneGrid=1==jQuery("#footer-custom-phone-grid").length},C=function(){var e=i.Utility.screenSize;jQuery(window).on("window_width_changed orientationchange",function(){!("phone"==i.Utility.screenSize&&"tablet"==e||"phone"==i.Utility.screenSize&&"desktop"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid?!("tablet"==i.Utility.screenSize&&"phone"==e||"desktop"==i.Utility.screenSize&&"phone"==e)||0==Q.mainHasCustomPhoneGrid&&0==Q.footerHasCustomPhoneGrid||b.a.triggerSwitchedCustomPhoneLayoutToDesktopLayout():b.a.triggerSwitchedDesktopLayoutToCustomPhoneLayout(),e=i.Utility.screenSize})};function k(){var e=jQuery(".password-form input").val();q.showLayout(e)}window.laytheme.on("newpageshown",function(){jQuery(".password-form").length>0&&(jQuery(".password-ok").on("click",function(){k()}),jQuery(".password-form input").on("keyup",function(e){13===e.keyCode&&k()}))});var S,z,P,D,O,I,M,$,T={animationTimer:null,animationInterval:null,animDur:300},R=function(){T.animDur=parseInt(frontendPassedData.navigation_transition_duration,10)/2},L=function(){T.animationTimer=0,clearInterval(T.animationInterval),T.animationInterval=setInterval(function(){T.animationTimer+=50,T.animationTimer>=T.animDur&&(window.laytheme.trigger("content_fadeout_transition_ended"),clearInterval(T.animationInterval))},50)},A=function(){return clearInterval(T.animationInterval),T.animationTimer>=T.animDur?0:T.animDur-T.animationTimer},N={showLayout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";U(e)},initModule:function(){F()},hideRegions:function(){H()}},E={type:null,isFirstLoad:!0,gridObj:null},W={$body:null},B=null,U=function(e){var t=W.$body.attr("data-type"),n=W.$body.attr("data-id");E.type=t;var o={action:"get_laytheme_layout",id:n,type:t,password:e};B&&B.abort(),B=jQuery.ajax({url:frontendPassedData.ajax_url,data:o,type:"post",success:function(e){var t=window.JSON.parse(e);if("wrongpassword"==t.notification)jQuery(".password-form").addClass("wrong-password"),setTimeout(function(){jQuery(".password-form").removeClass("wrong-password")},300);else{clearTimeout(S);var n=A();S=setTimeout(function(){jQuery(".lay-content").replaceWith(t.markup),i.utility_controller.setBodyClasses(t.obj),b.a.triggerNewPageShown({},t.type,t.obj),setTimeout(function(){jQuery("body").removeClass("hide-content")},50)},n)}},error:function(e){console.log("error loading page"),console.log(e)}})},H=function(){jQuery("body").addClass("hide-content")},F=function(){W.$body=jQuery("body")},q=N,G={initModule:function(){ee()}},Y=Backbone.Radio.channel("events"),V=G,X={cols:[],scrollY:0,parallaxActive:!1},J=function(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}},K=function(){X.scrollY=window.pageYOffset||document.documentElement.scrollTop;for(var e=0;e<X.cols.length;e++)if(0!=X.cols[e][1]){var t=(a=X.cols[e][0][0].getBoundingClientRect()).top+X.scrollY,n=t-window.innerHeight-X.cols[e][2];n<0&&(n=0);var o=t+a.height-X.cols[e][2],r=i.utility_controller.map(X.scrollY,n,o,0,100);if(!(r<0||r>100)){X.cols[e][2]=r*X.cols[e][1]*11.2;var a,s=X.cols[e][2];switch(frontendPassedData.offsets_mu){case"px":s+=parseFloat(X.cols[e][3],10);break;case"%":s+=window.innerWidth/100*X.cols[e][3]}if(1==X.cols[e][5])s-=(a=X.cols[e][0][0].getBoundingClientRect()).height/2;var l=X.cols[e][4],c="px";"%"==frontendPassedData.offsets_mu&&(c="vw"),X.cols[e][0].css(J("translate("+l+c+", "+s+"px)"))}}},Z=function(){var e;window.laytheme.on("newpageshown",function(){X.cols=[],jQuery(".col[data-yvel]").each(function(){var e=jQuery(this).attr("data-yvel");e<1&&(e=1),e=parseFloat(e),e=-(e-=1);var t=jQuery(this).attr("data-offsety");void 0===t&&(t=0);var n=jQuery(this).attr("data-offsetx");void 0===n&&(n=0);var i=!1;jQuery(this.parentNode.parentNode).hasClass("_100vh")&&jQuery(this).hasClass("align-middle")&&("text"==jQuery(this).attr("data-type")||"html"==jQuery(this).attr("data-type")||jQuery(this).hasClass("absolute-position"))&&(i=!0);var o=[jQuery(this),e,0,t,n,i];X.cols.push(o)}),Y.off("scroll",K),X.scrollY=0,X.cols.length>0&&(i.Utility.isDesktopOrTabletSize||Q.mainHasCustomPhoneGrid)&&(Y.on("scroll",K),X.parallaxActive=!0)}),e=i.Utility.screenSize,jQuery(window).on("window_width_changed orientationchange",function(){"phone"==i.Utility.screenSize&&"tablet"==e&&0==Q.mainHasCustomPhoneGrid?1==X.parallaxActive&&(jQuery(".col").css(J("translate(0,0)")),Y.off("scroll",K),X.parallaxActive=!1):"tablet"==i.Utility.screenSize&&"phone"==e&&0==X.parallaxActive&&X.cols.length>0&&(Y.on("scroll",K),X.parallaxActive=!0),X.parallaxActive&&jQuery(window).trigger("scroll"),e=i.Utility.screenSize})},ee=function(){"on"==frontendPassedData.simple_parallax&&Z()},te=n(8),ne={getProjectLinkAttrs:function(e){return se(e)},getCatId:function(e){return ue(e)},getCatLength:function(e){return ce(e)},showHideProjectArrows:function(e){ae(e)},maybeHideProjectArrowsOnInit:function(e){re(e)},initModule:function(){he()}},ie={id:null,catid:null,type:null,projectsMeta:[]},oe={$pa_next:null,$pa_prev:null,$body:null},re=function(e){"project"==e.type&&"on"==frontendPassedData.show_arrows&&(ce(e.catid)<=1&&jQuery(".project-arrow").addClass("hide"));"project"!=e.type&&jQuery(".project-arrow").addClass("hide")},ae=function(e){if("on"==frontendPassedData.show_arrows){if(null==e)return;var t=e.type;if("project"!=e.type&&jQuery(".project-arrow").addClass("hide"),"project"==e.type)ce(e.catid)<=1?jQuery(".project-arrow").addClass("hide"):"project-thumbnails"!=frontendPassedData.pa_type&&jQuery(".project-arrow").removeClass("hide");"project"==t&&"project"==e.type&&"project-thumbnails"==frontendPassedData.pa_type&&jQuery(".project-arrow").addClass("hide")}},se=function(e){if("undefined"!=typeof obj)return'href="'+obj.url+'" data-catid="'+obj.catid+'" data-id="'+obj.id+'" data-title="'+obj.title+'" data-type="project"'},le=function(e){var t=function(e){switch(frontendPassedData.prevnext_navigate_through){case"same_category":var t=ie.id,n=ie.catid,i=de(n);if(void 0===ie.projectsMeta[i])return 0;var o=ie.projectsMeta[i].length;for(a=0;a<o;a++)if(t==ie.projectsMeta[i][a].id){r=a;break}return"next"==e?++r==o&&(r=0):"prev"==e&&--r<0&&(r=o-1),r;case"all_projects":var r,a;for(t=ie.id,o=ie.projectsMeta.length,a=0;a<o;a++)if(t==ie.projectsMeta[a].id){r=a;break}return"next"==e?++r==o&&(r=0):"prev"==e&&--r<0&&(r=o-1),r}}(e);if(jQuery.isNumeric(t))switch(frontendPassedData.prevnext_navigate_through){case"same_category":var n=ie.catid,i=de(n);if(void 0!==i)return{title:ie.projectsMeta[i][t].title,url:ie.projectsMeta[i][t].url,id:ie.projectsMeta[i][t].id,catid:ie.projectsMeta[i][t].catid,thumb:ie.projectsMeta[i][t].thumb,thumbar:ie.projectsMeta[i][t].thumbar};break;case"all_projects":return{title:ie.projectsMeta[t].title,url:ie.projectsMeta[t].url,id:ie.projectsMeta[t].id,catid:ie.projectsMeta[t].catid,thumb:ie.projectsMeta[t].thumb,thumbar:ie.projectsMeta[t].thumbar}}},ce=function(e){if(void 0!==e&&""!=e){if("same_category"==frontendPassedData.prevnext_navigate_through){var t=de(e);return ie.projectsMeta[t].length}return ie.projectsMeta.length}},ue=function(e){var t=[];switch(frontendPassedData.prevnext_navigate_through){case"same_category":for(var n in ie.projectsMeta)for(var i=0;i<ie.projectsMeta[n].length;i++)ie.projectsMeta[n][i].id==e&&t.push(n);break;case"all_projects":for(i=0;i<ie.projectsMeta.length;i++)e==ie.projectsMeta[i].id&&t.push(ie.projectsMeta[i].catid)}return t},de=function(e){return Array.isArray(e)?e[0]:e},he=function(){oe.$pa_next=jQuery(".pa-next"),oe.$pa_prev=jQuery(".pa-prev"),oe.$body=jQuery("body"),ie.projectsMeta=JSON.parse(frontendPassedData.projectsMeta),window.laytheme.on("newpageshown",function(){ae(window.history.state),ie.catid=i.utility_controller.parseIdsString(oe.$body.attr("data-catid")),ie.id=oe.$body.attr("data-id"),ie.type=oe.$body.attr("data-type"),function(){if("on"==frontendPassedData.show_arrows&&"project"==oe.$body.attr("data-type")){var e=le("next"),t=le("prev");if(void 0!==e&&oe.$pa_next.attr({"data-title":e.title,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,href:e.url}),void 0!==t&&oe.$pa_prev.attr({"data-title":t.title,"data-catid":i.utility_controller.stringifyCatIds(t.catid),"data-id":t.id,href:t.url}),"project-thumbnails"==frontendPassedData.pa_type){if(void 0!==e){var n='<img src="'+e.thumb._512+'" alt="">';oe.$pa_next.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*e.thumbar+'%;">'+n+"</div>")}if(void 0!==t){var o='<img src="'+t.thumb._512+'" alt="">';oe.$pa_prev.html('<div class="pa-thumb-wrap" style="padding-bottom:'+100*t.thumbar+'%;">'+o+"</div>")}"same_category"==frontendPassedData.prevnext_navigate_through?ce(ie.catid)>1&&(oe.$pa_next.removeClass("hide"),oe.$pa_prev.removeClass("hide")):(oe.$pa_next.removeClass("hide"),oe.$pa_prev.removeClass("hide"))}}}(),"project"==jQuery("body").attr("data-type")&&(jQuery("a.laynextproject").each(function(){var e=le("next");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}),jQuery("a.layprevproject").each(function(){var e=le("prev");void 0!==e&&jQuery(this).attr({"data-type":"project",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}))})},fe={initModule:function(){ye()}},ye=function(){console.log("yayay"),me(),ge.newsMeta=JSON.parse(frontendPassedData.newsMeta),window.laytheme.on("newpageshown",function(){me(),we()})},pe=fe,ge={id:null,catid:null,type:null,newsMeta:[]},me=function(){ge.catid=i.utility_controller.parseIdsString(jQuery("body").attr("data-catid")),ge.id=jQuery("body").attr("data-id"),ge.type=jQuery("body").attr("data-type")},ve=function(e){var t=function(e){var t,n,i=ge.id,o=ge.newsMeta.length;for(n=0;n<o;n++)if(i==ge.newsMeta[n].id){t=n;break}return"next"==e?++t==o&&(t=0):"prev"==e&&--t<0&&(t=o-1),t}(e);if(jQuery.isNumeric(t))return{title:ge.newsMeta[t].title,url:ge.newsMeta[t].url,id:ge.newsMeta[t].id,catid:ge.newsMeta[t].catid,thumb:ge.newsMeta[t].thumb,thumbar:ge.newsMeta[t].thumbar}},we=function(){"lay_news"==jQuery("body").attr("data-type")&&(jQuery("a.laynextproject").each(function(){var e=ve("next");void 0!==e&&jQuery(this).attr({"data-type":"news",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}),jQuery("a.layprevproject").each(function(){var e=ve("prev");void 0!==e&&jQuery(this).attr({"data-type":"news",href:e.url,"data-catid":i.utility_controller.stringifyCatIds(e.catid),"data-id":e.id,"data-title":e.title})}))},_e={initModule:function(){be.$htmlbody=jQuery("html, body"),window.laytheme.on("newpageshown",je)}},be={$htmlbody:null},je=function(){jQuery(".scrolltotop").on("click",function(e){e.preventDefault(),e.stopPropagation(),jQuery("html").hasClass("fp-enabled")?jQuery.fn.fullpage.moveTo(1,0):(be.$htmlbody.animate({scrollTop:0},600,"easeOutQuint",function(){be.$htmlbody.off("scroll wheel DOMMouseScroll mousewheel touchmove")}),be.$htmlbody.on("scroll wheel DOMMouseScroll mousewheel touchmove",function(){be.$htmlbody.stop()}))})},Qe=n(6),xe={initModule:function(){De()}},Ce=0,ke={$body:null,$nav:null,$st:null},Se=function(){Ce=parseInt(frontendPassedData.maxwidth,10),ke.$body=jQuery("body"),ke.$nav=jQuery("nav.primary"),ke.$nav2=jQuery("nav.second_menu"),ke.$nav3=jQuery("nav.third_menu"),ke.$nav4=jQuery("nav.fourth_menu"),ke.$st=jQuery(".sitetitle"),ze(),Pe()},ze=function(){jQuery(window).on("window_width_changed",Pe)},Pe=function(){var e=ke.$body.innerWidth(),t=frontendPassedData.nav_customizer_properties,n=parseFloat(frontendPassedData.frame_leftright),o=Ce/100*n*2;if(e>Ce&&i.Utility.isDesktopOrTabletSize){var r=(e-Ce+o)/2;-1!=frontendPassedData.st_position.indexOf("left")?ke.$st.css("left",r+"px"):-1!=frontendPassedData.st_position.indexOf("right")&&ke.$st.css("right",r+"px"),-1!=t.nav_position.indexOf("left")?ke.$nav.css("left",r+"px"):-1!=t.nav_position.indexOf("right")&&ke.$nav.css("right",r+"px"),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?ke.$nav2.css("left",r+"px"):-1!=t.nav_position_second_menu.indexOf("right")&&ke.$nav2.css("right",r+"px")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?ke.$nav3.css("left",r+"px"):-1!=t.nav_position_third_menu.indexOf("right")&&ke.$nav3.css("right",r+"px")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?ke.$nav4.css("left",r+"px"):-1!=t.nav_position_fourth_menu.indexOf("right")&&ke.$nav4.css("right",r+"px"))}else-1!=frontendPassedData.st_position.indexOf("left")?ke.$st.css("left",""):-1!=frontendPassedData.st_position.indexOf("right")&&ke.$st.css("right",""),-1!=t.nav_position.indexOf("left")?ke.$nav.css("left",""):-1!=t.nav_position.indexOf("right")&&ke.$nav.css("right",""),frontendPassedData.nav_amount>=2&&(-1!=t.nav_position_second_menu.indexOf("left")?ke.$nav2.css("left",""):-1!=t.nav_position_second_menu.indexOf("right")&&ke.$nav2.css("right","")),frontendPassedData.nav_amount>=3&&(-1!=t.nav_position_third_menu.indexOf("left")?ke.$nav3.css("left",""):-1!=t.nav_position_third_menu.indexOf("right")&&ke.$nav3.css("right","")),frontendPassedData.nav_amount>=4&&(-1!=t.nav_position_fourth_menu.indexOf("left")?ke.$nav4.css("left",""):-1!=t.nav_position_fourth_menu.indexOf("right")&&ke.$nav4.css("right",""))},De=function(){"on"==frontendPassedData.misc_options_max_width_apply_to_logo_and_nav&&0!=frontendPassedData.maxwidth&&Se()},Oe=Backbone.Radio.channel("events"),Ie={initModule:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&We()},hideMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Ne()},hideMobileMenu:function(){"style_desktop_menu"!=frontendPassedData.mobile_menu_style&&Ee()}},Me={wWidth:window.innerWidth,oldInnerWidth:window.innerWidth,isOpen:!1},$e={$nav:null,$navul:null,$burger:null},Te=function(){switch($e.$nav.addClass("active"),jQuery("body").addClass("mobile-menu-open"),Me.isOpen=!0,frontendPassedData.mobile_menu_style){case"style_1":var e=0;"1"!=frontendPassedData.mobile_hide_menubar&&(e=jQuery(".navbar")[0].getBoundingClientRect().bottom),jQuery("body").addClass("animate-mobile-menu"),$e.$nav.on("transitionend",function(){jQuery("body").removeClass("animate-mobile-menu")}),$e.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)",top:0});break;case"style_2":break;case"style_3":var t=0;"1"!=frontendPassedData.mobile_hide_menubar&&(t=jQuery(".navbar").height());var n=t;frontendPassedData.woocommerce_active&&jQuery(".woocommerce-store-notice").length>0&&jQuery(".woocommerce-store-notice").is(":visible")&&(n+=jQuery(".woocommerce-store-notice").outerHeight()),$e.$nav.css({height:window.innerHeight-t+"px",top:n+"px"})}},Re=function(){if($e.$nav.hasClass("active"))Ne();else{switch(frontendPassedData.mobile_burger_type){case"new":case"default":case"default_thin":"style_2"!=frontendPassedData.mobile_menu_style&&$e.$burger.addClass("active")}Te()}},Le=function(){if(!i.Utility.isDesktopOrTabletSize)switch(frontendPassedData.mobile_menu_style){case"style_1":var e=jQuery(".navbar").outerHeight(),t=window.innerHeight-e;$e.$nav.css("max-height",t+"px");break;case"style_2":t=window.innerHeight;$e.$nav.css("max-height",t+"px")}},Ae=function(){i.Utility.isDesktopOrTabletSize&&$e.$nav.css("max-height","")},Ne=function(){Me.isOpen=!1,i.Utility.isPhoneSize?Ee():("style_2"!=frontendPassedData.mobile_menu_style&&$e.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),$e.$nav.removeClass("active").css({transform:"","-webkit-transform":""}))},Ee=function(){if(i.Utility.isPhoneSize)switch(Me.isOpen=!1,$e.$nav.removeClass("active"),jQuery("body").removeClass("mobile-menu-open"),"style_2"!=frontendPassedData.mobile_menu_style&&$e.$burger.removeClass("active"),frontendPassedData.mobile_menu_style){case"style_1":var e=$e.$navul.outerHeight();e*=-1,e-=jQuery(".navbar").outerHeight(),jQuery("body").addClass("animate-mobile-menu"),$e.$nav.on("transitionend",function(){jQuery("body").removeClass("animate-mobile-menu")}),$e.$nav.css({transform:"translateY("+e+"px)","-webkit-transform":"translateY("+e+"px)"});break;case"style_2":break;case"style_3":$e.$nav.css({height:""})}},We=function(){jQuery("nav.mobile-nav a").on("dragstart",function(e){e.preventDefault()}),$e.$nav=jQuery("nav.mobile-nav"),$e.$navul=$e.$nav.find("ul"),$e.$burger=jQuery(".burger-default, .burger-new"),function(){if(""!=frontendPassedData.mobile_navbar_fixed)switch(z=jQuery(".woocommerce-store-notice"),P=jQuery(".mobile-nav"),D=jQuery(".navbar"),frontendPassedData.mobile_menu_style){case"style_1":z.length>0&&P.length>0&&D.length>0&&Oe.on("scroll",function(){if(Me.isOpen){var e=D[0].getBoundingClientRect().bottom;P.css("transform","translateY("+e+"px)")}});break;case"style_2":break;case"style_3":z.length>0&&P.length>0&&Oe.on("scroll",function(){var e=z[0].getBoundingClientRect(),t=window.scrollY;t>=e.height&&(t=e.height),P.css("transform","translateY(-"+t+"px)")})}}(),jQuery(window).on("resize orientationchange",function(){Me.oldInnerWidth=Me.wWidth,Me.wWidth=window.innerWidth,i.Utility.isDesktopOrTabletSize?Me.oldInnerWidth<=i.Utility.breakpoint&&(Ae(),$e.$nav.css({transform:"","-webkit-transform":""}),$e.$nav.removeClass("active transition"),"style_2"!=frontendPassedData.mobile_menu_style&&$e.$burger.removeClass("active"),jQuery("body").removeClass("mobile-menu-open")):(Me.oldInnerWidth>i.Utility.breakpoint&&($e.$nav.hasClass("active")||Ne(),Qe.default.showAll()),Le())}),function(){switch(frontendPassedData.mobile_burger_type){case"default":case"default_thin":jQuery(".burger-wrap-default").on("click",Re);break;case"new":jQuery(".burger-wrap-new").on("click",Re);break;case"custom":jQuery(".burger-custom-wrap-close").on("click",function(){$e.$nav.hasClass("active")&&Ne()}),jQuery(".burger-custom-wrap-open").on("click",function(){$e.$nav.hasClass("active")||Te()})}}(),Le(),WebFont.load({custom:{families:frontendPassedData.m_st_fontfamily},active:function(){Ee()}}),Ee(),setTimeout(function(){jQuery("body").addClass("mobile-menu-animation-possible")},0),jQuery(document).ready(function(){setTimeout(function(){window.laytheme.on("newpage",Ee)},100)}),window.laytheme.on("searchshown",Ee)},Be={maybeReload:function(e){return Ue(e)}},Ue=function(e){var t=e;if(null==t)return!1;var n=t.id,i=t.type,o=!1;switch(i){case"project":var r=frontendPassedData.footer_active_in_projects;if("all"==r)o=frontendPassedData.projectsFooterId;else if("individual"==r&&""!=frontendPassedData.individual_project_footers){var a=JSON.parse(frontendPassedData.individual_project_footers);_.isObject(a)&&void 0!==a[n]&&(o=a[n])}break;case"page":var s=frontendPassedData.footer_active_in_pages;if("all"==s)o=frontendPassedData.pagesFooterId;else if("individual"==s&&""!=frontendPassedData.individual_page_footers){a=JSON.parse(frontendPassedData.individual_page_footers);_.isObject(a)&&void 0!==a[n]&&(o=a[n])}break;case"category":var l=frontendPassedData.footer_active_in_categories;if("all"==l)o=frontendPassedData.categoriesFooterId;else if("individual"==l&&""!=frontendPassedData.individual_category_footers){a=JSON.parse(frontendPassedData.individual_category_footers);_.isObject(a)&&void 0!==a[n]&&(o=a[n])}}var c=frontendPassedData.shortcodes;if(jQuery.isArray(c)&&0!=o)for(var u=0;u<c.length;u++){var d=c[u];if("post"==d.info.type&&d.info.id==o)return!0}if("project"!=i&&"page"!=i||(i="post"),jQuery.isArray(c))for(u=0;u<c.length;u++)if(c[u].info.type==i&&c[u].info.id==n)return!0;return!1},He=function(){frontendPassedData.woocommerce_active||(jQuery(".current-menu-parent").removeClass("current-menu-parent"),jQuery(".current-menu-item:not(.qtranxs-lang-menu-item)").removeClass("current-menu-item"),jQuery(".current_page_item:not(.qtranxs-lang-menu-item)").removeClass("current_page_item")),0!=(n=jQuery('nav a[data-id="'+window.history.state.id+'"][data-type="'+window.history.state.type+'"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")});var e=window.history.state.catid;Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n,i=e[t];0!=(n=jQuery('nav a[data-catid="'+i+'"][data-type="category"]')).length&&n.each(function(){jQuery(this.parentNode).addClass("current-menu-item"),jQuery(this.parentNode.parentNode).closest("li.menu-item").addClass("current-menu-parent")})}},Fe=0,qe=0,Ge=0,Ye=0,Ve={$body:null},Xe=function(e){return null!=window.history.state&&(window.history.state.id==e.id&&window.history.state.type==e.type)},Je=function(e){L(),qe=Fe,Fe=window.scrollY,Ye=Ge,Ge=nt;var t=Be.maybeReload(e);"on"==frontendPassedData.misc_options_disable_ajax&&(t=!0),t?window.location.reload(!1):(q.hideRegions(),jQuery("body").attr({"data-type":e.type,"data-id":e.id,"data-catid":i.utility_controller.stringifyCatIds(e.catid)}),He(),q.showLayout(),window.laytheme.trigger("newpage"))},Ke=function(e){window.laytheme.off("newpageshown",tt),window.laytheme.on("newpageshown",Ze)},Ze=function(){-1==window.location.href.indexOf("#")&&-1==window.location.href.indexOf("#category-")&&setTimeout(function(){window.scrollTo(0,qe),void 0!==jQuery.fn.fullpage&&"undefined"!=typeof magneticSlidesPassedData&&"function"==typeof jQuery.fn.fullpage.silentMoveTo&&("horizontal"==magneticSlidesPassedData.ms_direction?jQuery.fn.fullpage.silentMoveTo(1,Ye):jQuery.fn.fullpage.silentMoveTo(Ye,0))},50),window.laytheme.off("newpageshown",Ke)},et=function(){window.laytheme.off("newpageshown",Ze),window.laytheme.on("newpageshown",tt)},tt=function(){-1==window.location.href.indexOf("#")&&window.scrollTo(0,0),window.laytheme.off("newpageshown",et)},nt=0,it={initModule:function(){Ve.$body=jQuery("body"),function(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.href,t={scrollpos:window.scrollY,fullscreenSliderPos:0,type:Ve.$body.attr("data-type"),id:Ve.$body.attr("data-id"),catid:i.utility_controller.parseIdsString(Ve.$body.attr("data-catid"))};window.history.replaceState(t,jQuery("title").text(),e),He(),ne.maybeHideProjectArrowsOnInit(window.history.state)}(),jQuery(document).on("click",'a[data-type]:not([target="_blank"])',function(e){if(jQuery(this.parentNode).hasClass("laycart")&&1==frontendPassedData.sideCartPluginActive)return e.preventDefault(),void e.stopPropagation();if(!frontendPassedData.is_customize){var t=jQuery(this),n=t.attr("href");if(n=i.utility_controller.filterURL(n),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))e.preventDefault(),Ie.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!e.metaKey&&!e.ctrlKey){e.preventDefault();var o=passedDataHistory.title,r=t.attr("data-title");void 0!==r&&""!=r&&(o=passedDataHistory.titleprefix+_.unescape(t.attr("data-title")));var a=i.utility_controller.parseIdsString(t.attr("data-catid"));it.pushState({type:t.attr("data-type"),id:t.attr("data-id"),catid:a},o,n)}}}),window.addEventListener("popstate",function(e){if(window.location.href.indexOf("#"),null===e.state&&-1!=window.location.href.indexOf("#")){var t={scrollpos:window.scrollY,type:Ve.$body.attr("data-type"),id:Ve.$body.attr("data-id"),catid:i.utility_controller.parseIdsString(Ve.$body.attr("data-catid"))},n=window.location.href;window.history.replaceState(t,jQuery("title").text(),n)}else window.laytheme.trigger("popstate"),e.state.type==jQuery("body").attr("data-type")&&e.state.id==jQuery("body").attr("data-id")||(Ke(e.state),Je(e.state))}),setTimeout(function(){"undefined"!=typeof magneticSlidesPassedData&&("horizontal"==magneticSlidesPassedData.ms_direction?jQuery(window).on("fpAfterSlideLoad",function(e,t){nt=t.slideIndex}):jQuery(window).on("fpAfterLoad",function(e,t){nt=t.index}))},0)},getState:function(){return window.history.state},pushState:function(e,t,n){Xe(e)||(et(),window.history.pushState(e,t,n),document.title=t,b.a.triggerPushState(),Je(e))}},ot={initModule:function(){i.Utility.isTouchDevice&&rt()}},rt=function(){if("mo_on_tap"==frontendPassedData.fi_mo_touchdevice_behaviour){jQuery(document).on("click","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault()});var e,t=!1;jQuery(document).on("touchstart","a.thumb[data-type]",function(n){clearTimeout(e),jQuery(this).hasClass("hover")||(t=!0,e=setTimeout(function(){t=!1},100),n.stopPropagation(),n.preventDefault(),jQuery("a.thumb").removeClass("hover"),jQuery(this).addClass("hover"))}),jQuery(document).on("tap","a.thumb[data-type]",function(e){e.stopPropagation(),e.preventDefault(),0==t&&jQuery(this).hasClass("hover")&&at(jQuery(this))})}else"mo_on_tap_alt"==frontendPassedData.fi_mo_touchdevice_behaviour&&jQuery(document).on("touchstart","a.thumb[data-type]",function(e){jQuery(this).hasClass("hover")||(jQuery("a.thumb").removeClass("hover"),jQuery(this).addClass("hover"))})},at=function(e){if(frontendPassedData.is_customize)return!1;var t=e.attr("href");if(t=i.utility_controller.filterURL(t),jQuery("body").attr("data-type")==jQuery(this).attr("data-type")&&jQuery("body").attr("data-id")==jQuery(this).attr("data-id"))event.preventDefault(),Ie.hideMobileMenu();else if("custom"!=jQuery(this).attr("data-type")&&!event.metaKey&&!event.ctrlKey){event.preventDefault();var n=passedDataHistory.title;void 0!==e.attr("data-title")&&(n=passedDataHistory.titleprefix+_.unescape(e.attr("data-title")));var o=i.utility_controller.parseIdsString(e.attr("data-catid"));it.pushState({type:e.attr("data-type"),id:e.attr("data-id"),catid:o},n,t)}},st={polyfill_flexbox:function(){lt()},initModule:function(){ct(),ut()}},lt=function(){Modernizr.flexbox||(jQuery(".col.align-middle").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):e=!0,e){var n=(jQuery(this.parentNode).height()-t.height())/2;t.css("margin-top",n+"px")}}),jQuery(".col.align-bottom").each(function(){var e=!1,t=jQuery(this);if(i.Utility.isPhoneSize?(t.css("margin-top","0"),jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&1==jQuery(t[0].parentNode).find(".col").length&&(e=!0)):jQuery(t[0].parentNode.parentNode).hasClass("_100vh")&&(e=!0),e){var n=jQuery(this.parentNode).height()-t.height();t.css("margin-top",n+"px")}}))},ct=function(){ut(),window.laytheme.on("newpageshown",function(){lt()})},ut=function(){jQuery(window).on("resize",function(){lt()}),jQuery(window).on("orientationchange",function(){setTimeout(function(){lt()},400)})},dt=Marionette.View.extend({tagName:"div",template:_.template('<div class="mediawrap <%= getSizingClassName() %> <%= getFollowMovementClassName() %>">\n            <%= getMedia() %>\n        </div>'),events:{click:"onHideClick"},onHideClick:function(){yt.hide()},onRender:function(){setTimeout(function(){yt.setReferences(),yt.prepareBoundary()},0)},onAttach:function(){yt.initHideAfter()},onResize:function(){var e=window.innerWidth/window.innerHeight>this.model.get("width")/this.model.get("height")?"w100":"h100";this.$el.find(".mediawrap").removeClass("w100 h100").addClass(e)},templateContext:function(){return{getFollowMovementClassName:function(){return 1==frontendPassedData.intro_movement?"followmovement":""},getMedia:function(){switch(this.type){case"video":return'<video class="media loaded" data-ar="'+this.getAr()+'" playsinline muted autoplay loop src="'+this.url+'"></video>';case"image":return'<img class="lazyload js-intro-image media" data-ar="'+this.getAr()+'" sizes="'+this.getSizes()+'" data-srcset="'+this.getSrcset()+'" src="" alt="">'}},getSizes:function(){var e=1.15*this.width*window.innerHeight/this.height/window.innerWidth;return(e=Math.round(100*Math.max(e,1.15)))+"vw"},getSizingClassName:function(){return window.innerWidth/window.innerHeight>this.width/this.height?"w100":"h100"},getSrcset:function(){var e=[];for(var t in i.Utility.imageSizes){var n=this.sizes["_"+i.Utility.imageSizes[t]];n=n+" "+i.Utility.imageSizes[t]+"w",e.push(n)}return e.join(", ")},getAr:function(){return this.width/this.height},getText:function(){return this.text}}}}),ht=Marionette.View.extend({className:"intro",template:_.template('\n        <div class="intro-media-region"></div>\n        <div class="intro-svg-wrap"><%= getSVGOverlay() %></div>\n        <div class="intro_text '+frontendPassedData.intro_text_textformat+'"><%= getText() %></div>\n    '),regions:{mediaRegion:".intro-media-region"},templateContext:function(){return{getSVGOverlay:function(){if(1==frontendPassedData.intro_use_svg_overlay)return'<img class="intro-svg-overlay" src="'+frontendPassedData.intro_svg_url+'" alt="">'},getText:function(){if(1==frontendPassedData.intro_use_text_overlay)return frontendPassedData.intro_text}}}}),ft={init:function(e){_t(e)},hide:function(){It()},destroy:function(){Dt()},unbind:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){unbind()}),initHideAfter:function(){Qt()},getBoundaries:function(){return{boundaryX:gt.boundaryX,boundaryY:gt.boundaryY}},setReferences:function(){bt()},prepareBoundary:function(){Ct()},cancelLoading:function(){vt()}},yt=ft,pt=null,gt={boundaryX:0,boundaryY:0,intro:null},mt=115;window.laytheme.on("customizer_showintro",function(){Dt(),_t()}),window.laytheme.on("customizer_hideintro",function(){It(),jQuery("body").removeClass("intro-loading")});var vt=function(){jQuery("body").removeClass("intro-loading")},wt=function(){var e=null;e="landscape"===i.Utility.orientation?new Backbone.Model(frontendPassedData.intro_landscape):new Backbone.Model(frontendPassedData.intro_portrait),I=new dt({model:e});var t=new ht;(new(Marionette.Application.extend({region:"#intro-region",onStart:function(){this.showView(t),t.showChildView("mediaRegion",I),jQuery("body").removeClass("intro-loading")}}))).start()},_t=function(){if(jQuery("#intro-region").removeClass("hide"),jQuery("body").removeClass("intro-loading"),frontendPassedData.is_frontpage&&frontendPassedData.intro_active){if("landscape"===i.Utility.orientation){if(jQuery.isEmptyObject(frontendPassedData.intro_landscape))return void Dt()}else if(jQuery.isEmptyObject(frontendPassedData.intro_portrait))return void Dt();M=jQuery("body"),pt=new Particle(0,0),wt(),window.laytheme.on("orientationchanged",wt),setTimeout(function(){1==frontendPassedData.intro_movement&&(kt(),Pt())},0),jQuery(window).on("resize",Ot),jQuery(document).on("scroll",jt)}},bt=function(){O=jQuery(".intro .mediawrap"),gt.intro=frontendPassedData.intro_landscape,"portrait"===i.Utility.orientation&&(gt.intro=frontendPassedData.intro_portrait)},jt=function(){window.scrollY>10&&It()},Qt=function(){var e=parseInt(frontendPassedData.intro_hide_after,10);if(0!=e){switch(I.model.get("type")){case"video":jQuery(".intro video").on("playing",function(){setTimeout(function(){It()},e)});break;case"image":jQuery(document).on("lazyloaded",function(t){-1!=t.target.className.indexOf("js-intro-image")&&setTimeout(function(){It()},e)})}console.log("init hide after")}},xt=function(e,t,n,i,o){return i+(o-i)*((Math.min(n,Math.max(t,e))-t)/(n-t))},Ct=function(){var e=jQuery(".intro .mediawrap").height(),t=0,n=0;O.hasClass("h100")?t=(n=e*mt/100)*gt.intro.width/gt.intro.height:n=(t=M.innerWidth()*mt/100)*gt.intro.height/gt.intro.width,gt.boundaryX=(t-M.innerWidth())/2,gt.boundaryY=(n-e)/2,gt.boundaryX-=2,gt.boundaryY-=2},kt=function(){Ct(),i.Utility.isTouchDevice?window.addEventListener("deviceorientation",zt):jQuery(window).on("mousemove",St)},St=function(e){var t=xt(e.clientX,0,M.innerWidth(),1,-1),n=xt(e.clientY,0,window.innerHeight,1,-1);pt.updateDestination(t,n)},zt=function(e){var t=e.gamma,n=e.beta;90==window.orientation?(t=xt(e.beta,-45,45,1,-1),n=xt(-e.gamma,-20,70,1,-1)):-90==window.orientation?(t=xt(-e.beta,-45,45,1,-1),n=xt(e.gamma,-20,70,1,-1)):180==window.orientation?(t=xt(-e.gamma,-45,45,1,-1),n=xt(-e.beta,-20,70,1,-1)):(t=xt(e.gamma,-45,45,1,-1),n=xt(e.beta,-20,70,1,-1)),pt.updateDestination(t,n)},Pt=function e(){pt.update(),O.css({transform:"translate3d("+pt.x+"px, "+pt.y+"px, 0)","-webkit-transform":"translate3d("+pt.x+"px, "+pt.y+"px, 0)"}),$=requestAnimationFrame(e)},Dt=function(){jQuery("#intro-region").html("").addClass("hide"),window.laytheme.off("orientationchanged",wt),cancelAnimationFrame($),window.removeEventListener("deviceorientation",zt),jQuery(window).off("mousemove",St),jQuery(window).off("resize",Ot),clearTimeout(void 0)},Ot=function(){I.triggerMethod("resize"),Ct()},It=function(e){0==frontendPassedData.intro_transition_duration?Dt():(jQuery(".intro").on("transitionend",function(){Dt()}),jQuery(".intro").addClass("animatehide")),"function"==typeof e&&e(),jQuery(document).off("scroll",jt)};!function(){function e(e,t){this.x=e,this.y=t,this.virtualX=e,this.virtualY=t,this.destX=e,this.destY=t,this.xvelocity=0,this.yvelocity=0}e.prototype.update=function(){var e=ft.getBoundaries();this.xvelocity=this.destX-this.virtualX,this.yvelocity=this.destY-this.virtualY,Math.abs(this.xvelocity)>.002&&(this.xvelocity*=.03),Math.abs(this.yvelocity)>.002&&(this.yvelocity*=.03),this.virtualX+=this.xvelocity,this.virtualY+=this.yvelocity,this.x=Math.min(1,Math.max(-1,this.virtualX))*e.boundaryX,this.y=Math.min(1,Math.max(-1,this.virtualY))*e.boundaryY},e.prototype.updateDestination=function(e,t){this.destX=e,this.destY=t},window.Particle=e}();var Mt,$t,Tt,Rt,Lt,At,Nt,Et,Wt=frontendPassedData.search_placeholder_text,Bt=Marionette.View.extend({className:function(){return"search-view "+this.getOption("hasNoResultsClass")},hasNoResultsClass:"search-has-no-results",hasResultsClass:"search-has-or-had-results",template:_.template('\n        <div class="close-search"></div>\n        <div class="search-inputs">\n            <input id="search-query" type="search" class="search-query" placeholder="'+Wt+'" autocomplete="off" spellcheck="false">\n            <div id="search-autosuggest-list"></div>\n        </div>\n        <div id="search-results-region"></div>\n    '),regions:{results:"#search-results-region",search_autosuggest_list:"#search-autosuggest-list"},events:{"input #search-query":"onInput","focus #search-query":"onFocus","blur #search-query":"onBlur","click .close-search":"onHide"},val:"",onAddClassForHasResults:function(){this.$el.removeClass(this.hasNoResultsClass),this.$el.addClass(this.hasResultsClass)},onAddClassForNoResults:function(){this.$el.addClass(this.hasNoResultsClass),this.$el.removeClass(this.hasResultsClass)},onFocus:function(){this.$el.find("#search-autosuggest-list").show()},onBlur:function(){var e=this;setTimeout(function(){e.$el.find("#search-autosuggest-list").hide()},100)},onInput:function(){this.val=this.$el.find("#search-query").val(),en.search()},onShow:function(){this.$el.addClass("show"),i.utility_controller.fixBody(),jQuery("#search-query").focus()},onHide:function(){this.$el.addClass("hide").removeClass("show"),i.utility_controller.unfixBody(),this.$el.find("#search-query").val(""),this.val="",this.triggerMethod("blur"),en.search(),this.triggerMethod("add:class:for:no:results")},onRender:function(){var e=this;window.laytheme.on("content_fadeout_transition_ended",function(){e.triggerMethod("hide")})}}),Ut=Marionette.View.extend({className:"suggest-item",template:_.template('\n        <span class="suggest"><span class="suggest-prefix"><%= suggestPrefix() %></span><span class="suggest-suffix"><%= suggestSuffix() %></span></span>\n    '),events:{click:"clickSuggestItem"},clickSuggestItem:function(e){e.preventDefault(),e.stopPropagation(),en.clickSuggestItem(this.$el)},templateContext:function(){return{suggestSuffix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?e.slice(t.length):e},query:jQuery("#search-query").val(),suggestPrefix:function(){var e=this.suggest,t=this.query;return i.utility_controller.stringStartsWith(e,t)?this.query:""}}}}),Ht=Marionette.CollectionView.extend({className:"suggest-collection",childView:Ut,id:"suggest-results"}),Ft=n(2),qt=jQuery.Deferred(),Gt=!1,Yt={shouldSort:!0,includeScore:!1,threshold:.1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,ignoreLocation:!0,keys:["title","descr","cats","tags"]},Vt=function(){Gt||jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/search/",success:function(e){Mt=new Fuse(e,Yt),Gt=!0,qt.resolve()}})},Xt=function(){"resolved"==qt.state()?Jt():jQuery.when(qt).then(function(){Jt()})},Jt=_.debounce(function(){var e=jQuery("#search-query").val();if(Tt=e.toLowerCase(),0==e.length)return jQuery("#search-autosuggest-list").html(""),void jQuery("#search-results-region").html("");($t=Mt.search(e)).length>0&&Rt.triggerMethod("add:class:for:has:results");var t=Zt($t),n={action:"get_search_result",found_posts:t=JSON.stringify(t)};jQuery.ajax({url:frontendPassedData.ajax_url,data:n,type:"post",success:function(e){jQuery("#search-results-region").html(e),setTimeout(function(){window.laytheme.trigger("searchresultshown")},0)},error:function(e){console.log("search error"),console.log(e)}}),0==frontendPassedData.search_autosuggest_hide&&Kt()},200),Kt=function(){var e=[],t=!0,n=!1,i=void 0;try{for(var o,r=$t[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){(h=o.value).title.toLowerCase().startsWith(Tt)&&-1==e.indexOf(h.title)&&e.push(h.title),h.descr.toLowerCase().startsWith(Tt)&&-1==e.indexOf(h.descr)&&e.push(h.descr);for(var a=0;a<h.cats.length;a++){(f=h.cats[a]).toLowerCase().startsWith(Tt)&&-1==e.indexOf(f)&&e.push(f)}for(a=0;a<h.tags.length;a++){(y=h.tags[a]).toLowerCase().startsWith(Tt)&&-1==e.indexOf(y)&&e.push(y)}if(e.length>3)break}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}if(0!=e.length&&Tt==e[0].toLowerCase()&&e.splice(0,1),0==e.length){var s=!0,l=!1,c=void 0;try{for(var u,d=$t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h;-1!==(h=u.value).title.toLowerCase().indexOf(Tt)&&-1==e.indexOf(h.title)&&e.push(h.title),-1!==h.descr.toLowerCase().indexOf(Tt)&&-1==e.indexOf(h.descr)&&e.push(h.descr);for(a=0;a<h.cats.length;a++){var f;(f=h.cats[a]).toLowerCase().startsWith(Tt)&&-1==e.indexOf(f)&&e.push(f)}for(a=0;a<h.tags.length;a++){var y;(y=h.tags[a]).toLowerCase().startsWith(Tt)&&-1==e.indexOf(y)&&e.push(y)}if(e.length>3)break}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}if(0!=e.length&&Tt==e[0].toLowerCase()&&e.splice(0,1),0!=$t.length){var p=new Ht({collection:new Backbone.Collection(e.slice(0,3).map(function(e){return{suggest:e}}))});Rt.getRegion("search_autosuggest_list").show(p)}else Rt.getRegion("search_autosuggest_list").empty()},Zt=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].postid;t.push(i)}return t},en={initModule:function(){jQuery('[href="#search"]').on("click",function(e){Vt(),e.preventDefault(),e.stopPropagation(),Rt.triggerMethod("show"),window.laytheme.trigger("searchshown")}),Rt=new Bt,(new(Marionette.Application.extend({region:"#search-region",onStart:function(){this.showView(Rt)}}))).start(),jQuery(document).keyup(function(e){27==e.which&&Rt.triggerMethod("hide")}),window.laytheme.on("customizer_showsearch",function(){Vt(),Rt.triggerMethod("show")}),window.laytheme.on("customizer_hidesearch",function(){Rt.triggerMethod("hide")}),window.laytheme.on("newpageshown",function(){Rt.triggerMethod("hide")}),window.laytheme.on("searchresultshown",function(){Ft.a.loadVideosInstantly(jQuery("#search-results-region"))})},search:function(){Xt()},clickSuggestItem:function(e){!function(e){var t=e.find(".suggest").text();jQuery("#search-query").val(t),setTimeout(function(){Rt.getRegion("search_autosuggest_list").empty(),Rt.triggerMethod("input")},0)}(e)}},tn=Backbone.Radio.channel("events"),nn=!1,on=[],rn=[],an=function(){At=Nt.find("video.autoplay[playsinline][muted]"),nn&&(Lt=Et.find("video.autoplay[playsinline][muted]")),sn(),tn.off("scroll",ln),tn.on("scroll",ln)},sn=function(){on=[],rn=[];for(var e=0;e<At.length;e++)on[e]={playing:!1,playPromise:null};if(nn)for(e=0;e<Lt.length;e++)rn[e]={playing:!1,playPromise:null}};window.laytheme.on("content_ready",function(e){switch(e){case"desktop":Nt=jQuery("#grid"),Et=jQuery(".cover-region-desktop");break;case"phone":Nt=jQuery("#custom-phone-grid"),Et=jQuery(".cover-region-phone"),0==Nt.length&&(Nt=jQuery("#grid"),Et=jQuery(".cover-region-desktop"))}nn=Et.length>0,an(),ln()});var ln=_.throttle(function(){At.each(function(e){var t=this.getBoundingClientRect();t.top-200<=window.innerHeight&&t.bottom>=0?0!=on[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(on[e].playPromise=this.play(),on[e].playPromise.then(function(){on[e].playing=!0})):1==on[e].playing&&(this.pause(),on[e].playing=!1)}),nn&&Lt.each(function(e){window.scrollY>window.innerHeight?1==on[e].playing&&(this.pause(),rn[e].playing=!1):0!=rn[e].playing||this.ended||jQuery(this).hasClass("userinteractedwith-paused")||(rn[e].playPromise=this.play(),rn[e].playPromise.then(function(){rn[e].playing=!0}))})},60),cn=Backbone.Radio.channel("events");window.laytheme.on("pushstate",function(){vn()}),window.laytheme.on("popstate",function(){vn()}),window.laytheme.on("newpageshown",function(){setTimeout(function(){mn()},50)});var un,dn,hn,fn,yn,pn,gn=!0,mn=function(){gn=!0},vn=function(){gn=!1},wn=function(){if(gn)for(var e=document.querySelectorAll(".col.no-parallax.no-offset,.col.no-parallax.no-offset.type-thumbnailgrid .thumbnail-wrap,.col.no-parallax.no-offset.type-elementgrid .element-wrap,.col.no-parallax.no-offset.type-productsgrid li,.lay-thumbnailgrid-filter-wrap"),t=document.querySelectorAll(".below"),n=[].slice.call(t),i=0;i<e.length;i++){var o=e[i];if(!o.classList.contains("no-animation"))if(window.innerHeight+window.scrollY>=document.body.scrollHeight-90){if(o.classList.contains("below")){var r=n.indexOf(o);o.style.transitionDelay=100*r+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else if(o.getBoundingClientRect().top<window.innerHeight-30){if(o.classList.contains("below")){var a=n.indexOf(o);o.style.transitionDelay=100*a+"ms",o.classList.remove("below"),o.classList.add("in-view")}}else o.classList.contains("below")||(o.classList.add("below"),o.classList.remove("in-view"))}},_n={initModule:function(){"on"==window.frontendPassedData.element_transition_on_scroll&&(cn.on("scroll",wn),window.laytheme.on("magnetic_slides_afterSlideLoads",wn),window.laytheme.on("magnetic_slides_afterLoad",wn))}},bn=void 0,jn=function(){return jQuery(".vertical-fullpage").length>0?"vertical":jQuery(".horizontal-fullpage").length>0?"horizontal":"none"},Qn=function(e){if(void 0!==bn){var t=bn.find(e).closest(".row");return 0==t.length?(console.error("no row found"),0):bn.find(".row").index(t)}return 0},xn=function(){jQuery(document).on("click",'.lay-content a[href*="#"]:not([href="#search"]):not([href="#"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop), .laynav a[href*="#"]:not([href="#search"]):not([href="#laynextproject"]):not([href="#layprevproject"]):not(.scrolltotop)',function(e){if(jQuery(this).closest("#fp-nav").length>0||jQuery(this).closest(".fp-slidesNav").length>0)e.preventDefault();else if(function(e){var t=window.location.href,n=t.indexOf("#");if(-1!==n&&(t=t.substr(0,n)),"#"==e.attr("href").substr(0,1))return!0;if(e[0].hasAttribute("data-id")&&e[0].hasAttribute("data-type")&&e.attr("data-id")==jQuery("body").attr("data-id")&&e.attr("data-type")==jQuery("body").attr("data-type"))return!0;var i=e.attr("href"),o=i.indexOf("#"),r=i.substr(0,o);return r==t||r.substr(0,r.length-1)==t||r==t.substr(0,t.length-1)||r.substr(0,r.length-1)==t.substr(0,t.length-1)}(jQuery(this))){e.preventDefault(),Ie.hideMobileMenu();var t=jQuery(this).attr("href"),n=t.indexOf("#"),i=t.substr(n);switch(jn()){case"none":var o=bn.find(i).offset().top;o=Cn(o),jQuery("html").animate({scrollTop:o},300,"easeInOutQuad",function(){window.location.hash=i,window.scroll(0,o)});break;case"vertical":var r=Qn(i)+1;jQuery(window).one("fpAfterLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(r,0);break;case"horizontal":var a=Qn(i);jQuery(window).one("fpAfterSlideLoad",function(){window.location.hash=i}),jQuery.fn.fullpage.moveTo(1,a)}}})},Cn=function(e){switch(i.Utility.screenSize){case"desktop":case"tablet":jQuery(".navbar").is(":visible")&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_desktop&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_desktop,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_desktop,10));break;case"phone":jQuery(".navbar").is(":visible")&&"1"==frontendPassedData.mobile_navbar_fixed&&(e-=parseInt(jQuery(".navbar").height(),10)),""!=frontendPassedData.anchorscroll_offset_phone&&jQuery.isNumeric(parseInt(frontendPassedData.anchorscroll_offset_phone,10))&&(e-=parseInt(frontendPassedData.anchorscroll_offset_phone,10))}return e},kn=function(){var e=window.location.hash,t=bn.find(e);if(t.length>0)switch(jn()){case"none":var n=t.offset().top;n=Cn(n),window.scroll(0,n);break;case"vertical":var i=Qn(e)+1;jQuery.fn.fullpage.silentMoveTo(i,0);break;case"horizontal":var o=Qn(e);jQuery.fn.fullpage.silentMoveTo(1,o)}},Sn={initModule:function(){xn(),jQuery(window).on("hashchange",function(){window.location.hash,void 0!=bn&&kn()}),window.laytheme.on("content_ready",function(e){switch(bn=void 0,e){case"desktop":bn=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?bn=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?bn=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?bn=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(bn=jQuery("#grid, .cover-region-desktop, #footer"))}setTimeout(function(){kn()},50)})}},zn=(n(15),n(3)),Pn=n(1),Dn=n.n(Pn),On=Backbone.Radio.channel("events"),In=function(){void 0!==un&&un.each(function(){var e=jQuery(this),t=e.data("config");Mn(e,t)})},Mn=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find(".thumbnail-wrap").css({width:o+"%","margin-bottom":t[n].rowGutter+"%"}),t.layoutType){case"masonry":e.find(".lay-thumbnailgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-thumbnailgrid-col-sizer").css("width",o+"%");var r=e.data("masonry");void 0!==r&&r.layout();break;default:e.find(".thumbnail-wrap").css("margin-right",t[n].colGutter+"%"),e.find(".thumbnail-wrap:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},$n=function(e,t){switch(t.layoutType){case"masonry":e.find(".thumb-collection").append('<div class="lay-thumbnailgrid-gutter-sizer"></div><div class="lay-thumbnailgrid-col-sizer"></div>');var n=e.find(".thumb-collection")[0],o=new Masonry(n,{itemSelector:".thumbnail-wrap",columnWidth:".lay-thumbnailgrid-col-sizer",gutter:".lay-thumbnailgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",o);break;default:var r=e.find(".thumbnail-wrap:visible"),a=e.find(".thumbnailgrid-row .thumbnail-wrap");a.length>0&&a.unwrap();for(var s=t[i.Utility.screenSize].colCount,l=0;l<r.length;l+=s)r.slice(l,l+s).wrapAll('<div class="thumbnailgrid-row '+t.layoutType+'"></div>')}},Tn=function(){var e=window.location.hash;if(void 0!=Nn){var t=Nn.find(".thumbs-collection-region.use-filter");t.length>0&&t.each(function(){var t,n=jQuery(this);An(n);var i=[];if(e.startsWith("#category-")){var o=e.substr(10);(r=jQuery('[data-slug="'+o+'"]')).length>0&&(t=r.attr("data-id"),i=qn(n),Fn(n,t,!0,i))}else if(""==e){var r;(r=jQuery(".lay-filter-default")).length>0&&(t=r.attr("data-id"),i=qn(n),Fn(n,t,!0,i))}Ln(n,t,i)})}},Rn=function(){jQuery(window).on("hashchange",Tn)},Ln=function(e,t,n){var o=e.data("config"),r=!1;0!=o&&Dn.a.has(o,"showfilter")&&(r=o.showfilter);var a="OR";0!=o&&Dn.a.has(o,"tagFilterBehaviour")&&(a=o.tagFilterBehaviour);var s=!1;0!=o&&Dn.a.has(o,"showtagfilter")&&(s=o.showtagfilter);var l=[];switch(1==r?e.find('.thumbnail-wrap[data-filterid="'+t+'"]').each(function(){for(var e=jQuery(this).attr("data-tags"),t=i.utility_controller.parseIdsString(e),n=0;n<t.length;n++){var o=t[n];-1==l.indexOf(o)&&l.push(o)}}):1==s&&0==r&&(e.find(".thumbnail-wrap").each(function(){for(var e=jQuery(this).attr("data-tags"),t=i.utility_controller.parseIdsString(e),n=0;n<t.length;n++){var o=t[n];-1==l.indexOf(o)&&l.push(o)}}),e.find(".tag-bubble:not(.deselect-tags)").each(function(){var e=parseInt(jQuery(this).attr("data-tag_id"),10);-1==l.indexOf(e)&&jQuery(this).remove()})),(c=e.find(".tag-bubble.lay-tag-active")).length>0?e.find(".deselect-tags").css("display","").removeClass("lay-filter-hidden"):e.find(".deselect-tags").addClass("lay-filter-hidden"),a){case"AND":var c;if((c=e.find(".tag-bubble.lay-tag-active")).length>0){var u=[];c.each(function(){u.push(parseInt(jQuery(this).attr("data-tag_id"),10))});for(var d=[],h=0;h<n.length;h++){var f=n[h];1==f.show&&(d=Dn.a.union(f.ids,d))}for(h=0;h<l.length;h++){var y=l[h];u.length>0&&Dn.a.intersection(u,d).length>0&&-1!=d.indexOf(y)?e.find('.tag-bubble[data-tag_id="'+y+'"]').css("display",""):e.find('.tag-bubble[data-tag_id="'+y+'"]').css("display","none")}}else{e.find(".tag-bubble:not(.deselect-tags)").css("display","none");for(h=0;h<l.length;h++){y=l[h];e.find('.tag-bubble[data-tag_id="'+y+'"]').css("display","")}}break;case"OR":default:if(r){e.find(".tag-bubble:not(.deselect-tags)").css("display","none");for(h=0;h<l.length;h++){y=l[h];e.find('.tag-bubble[data-tag_id="'+y+'"]').css("display","")}}}},An=function(e,t){var n=e.find(".lay-thumbnailgrid-tagfilter");void 0!=t&&0!=t&&t.length>0?t.removeClass("lay-tag-active"):e.find(".tag-bubble").removeClass("lay-tag-active");var i=[];n.find(".tag-bubble").each(function(){if(!jQuery(this).hasClass("lay-tag-active")){var e=jQuery(this).attr("data-ix");i.push([this,e])}}),i.sort(function(e,t){return e[1]==t[1]?0:e[1]>t[1]?1:-1});var o="";n.find(".deselect-tags").length>0&&(o+=n.find(".deselect-tags")[0].outerHTML),n.find(".lay-tag-active").each(function(){o+=this.outerHTML});for(var r=0;r<i.length;r++)i[r][0].classList.contains("deselect-tags")||(o+=i[r][0].outerHTML);n.html(o)},Nn=void 0,En=function(){window.laytheme.on("content_ready",function(e){switch(e){case"desktop":Nn=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?Nn=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?Nn=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?Nn=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(Nn=jQuery("#grid, .cover-region-desktop, #footer"))}var o=Nn.find(".thumbs-collection-region");o.length>0&&o.each(function(){var e=jQuery(this),t=e.data("config"),n=!1;$n(e,t),Mn(e,t);var i=window.location.hash;if(i.startsWith("#category-")&&jQuery(this).hasClass("use-filter")){var o=i.substring(10),r=jQuery(this).find('[data-slug="'+o+'"]');if(r.length>0){n=r.attr("data-id");var a=qn(e);Fn(e,n,!1,a)}}else n=t.cat_id,Wn(e,t);Ln(e,n,a),Hn(e),Un(e),Bn(e),e.addClass("initialized")}),o.each(function(){var e=jQuery(this),t=e.data("config");$n(e,t),Mn(e,t),jQuery(this).addClass("sized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(o)})},Wn=function(e,t){if((e.hasClass("use-filter")||e.hasClass("use-tags-filter"))&&Dn.a.has(t,"limitThumbnails")&&t.limitThumbnails>0){var n=0,i=e.find(".show-filtered").length>0;e.find(".thumbnail-wrap").each(function(){!jQuery(this).hasClass("show-filtered")&&i||(++n>t.limitThumbnails?jQuery(this).addClass("hide-because-limit"):jQuery(this).removeClass("hide-because-limit"))})}},Bn=function(e){e.off("click",".deselect-tags"),e.on("click",".deselect-tags",function(e){jQuery(this).addClass("lay-filter-hidden");var t=jQuery(e.delegateTarget);An(t);var n=!1;t.find(".lay-thumbnailgrid-filter-anchor.lay-filter-active").length>0&&(n=parseInt(t.find(".lay-thumbnailgrid-filter-anchor.lay-filter-active").attr("data-id"),10));var i=qn(t);Fn(t,n,!0,i)})},Un=function(e){e.off("click",".tag-bubble:not(.deselect-tags)"),e.on("click",".tag-bubble:not(.deselect-tags)",function(e){var t=jQuery(e.delegateTarget),n=jQuery(this),i=t.find(".lay-thumbnailgrid-tagfilter");if(n.hasClass("lay-tag-active"))An(t,n);else{var o=i.find(".lay-tag-active").last();o.length>0?n.insertAfter(o):t.find(".deselect-tags").length>0?n.insertAfter(t.find(".deselect-tags")):i.prepend(n),n.addClass("lay-tag-active")}var r=!1;t.find(".lay-thumbnailgrid-filter-anchor.lay-filter-active").length>0&&(r=parseInt(t.find(".lay-thumbnailgrid-filter-anchor.lay-filter-active").attr("data-id"),10));var a=qn(t);Fn(t,r,!0,a),Ln(t,r,a)})},Hn=function(e){e.off("click",".lay-thumbnailgrid-filter-anchor"),e.on("click",".lay-thumbnailgrid-filter-anchor",function(e){if(jQuery(this).hasClass("lay-filter-active"))jQuery(e.delegateTarget).find(".lay-tag-active").length>0&&Tn();else{var t=jQuery(this).attr("data-slug");window.location.hash="category-"+t}})},Fn=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e.find(".lay-filter-active").removeClass("lay-filter-active"),!1!==t&&jQuery('.lay-thumbnailgrid-filter-anchor[data-id="'+t+'"]').addClass("lay-filter-active");var r=e.find(".thumbnail-wrap"),a=e.data("config");if("fade_out_fade_in"==frontendPassedData.tgf_transition&&n)e.addClass("lay-disable-click lay-transition"),e.find(".thumb-collection").css("opacity",0),setTimeout(function(){switch(Gn(o),Wn(e,a),a.layoutType){case"masonry":Mn(e,a);break;default:$n(e,a),Mn(e,a)}i.utility_controller.setImageSizesAttribute(e),Vn(r,function(){e.find(".thumb-collection").css("opacity",1),setTimeout(function(){e.removeClass("lay-disable-click lay-transition")},500)}),On.trigger("thumbnailGridWasFiltered")},500);else if("fade_out_fade_in_2"==frontendPassedData.tgf_transition&&n)e.addClass("lay-disable-click"),r.css("transitionDelay","0ms"),r.removeClass("in-view").addClass("below"),setTimeout(function(){switch(Gn(o),Wn(e,a),a.layoutType){case"masonry":Mn(e,a);break;default:$n(e,a),Mn(e,a)}i.utility_controller.setImageSizesAttribute(e),Vn(r,function(){var t=0;r.each(function(){var e=jQuery(this);"block"==e.css("display")?(e[0].style.transitionDelay=100*t+"ms",t++,e.removeClass("below").addClass("in-view")):e.removeClass("below in-view")}),e.removeClass("lay-disable-click")}),On.trigger("thumbnailGridWasFiltered")},550);else{switch(Gn(o),Wn(e,a),a.layoutType){case"masonry":Mn(e,a);break;default:$n(e,a),Mn(e,a)}i.utility_controller.setImageSizesAttribute(e),On.trigger("thumbnailGridWasFiltered")}},qn=function(e){var t=window.location.hash,n=!1;if(t.startsWith("#category-")){var o=t.substr(10);(r=jQuery('[data-slug="'+o+'"]')).length>0&&(n=r.attr("data-id"))}else if(""==t){var r;(r=jQuery(".lay-filter-default")).length>0&&(n=r.attr("data-id"))}var a=[];e.find(".tag-bubble.lay-tag-active").each(function(){var e=parseInt(jQuery(this).attr("data-tag_id"),10);a.push(e)});var s=e.find(".thumbnail-wrap"),l=e.data("config"),c=[],u="OR";return 0!=l&&Dn.a.has(l,"tagFilterBehaviour")&&(u=(u=l.tagFilterBehaviour).toUpperCase()),s.each(function(){var e=jQuery(this),t=e.attr("data-tags"),o=i.utility_controller.parseIdsString(t),r={show:!1,$el:e,ids:o},s=!1;switch(u){case"AND":s=Dn.a.intersection(o,a).length==a.length;break;case"OR":default:s=Dn.a.intersection(o,a).length>0}0==a.length&&!1!==n&&parseInt(e.attr("data-filterid"),10)==n?r.show=!0:a.length>0&&s&&!1!==n&&parseInt(e.attr("data-filterid"),10)==n?r.show=!0:a.length>0&&s&&!1===n?r.show=!0:!1===n&&0==a.length?r.show=!0:r.show=!1,c.push(r)}),c},Gn=function(e){for(var t=0;t<e.length;t++){var n=e[t];1==n.show?n.$el.css("display","block").addClass("show-filtered").removeClass("hide-filtered"):n.$el.css("display","none").addClass("hide-filtered").removeClass("show-filtered")}},Yn=function(e,t,n){return 1==e},Vn=function(e,t){var n=[],i=[];e.find("img").each(function(){zn.load_visible_images_then_rest_controller.isInsideViewportHeight(this,90)&&(n.push(this),i.push(!1))});for(var o=0;o<n.length;o++)!function(e){var t=jQuery(n[e]);t.hasClass("loaded")||t.hasClass("lazyloaded")?i[e]=!0:new MutationObserver(function(){(t.hasClass("loaded")||t.hasClass("lazyloaded"))&&(i[e]=!0)}).observe(t[0],{attributes:!0,attributeFilter:["class"]})}(o);if(n.length>0)var r=setInterval(function(){i.every(Yn)&&(t(),clearInterval(r))},30);else t()},Xn=function(){window.laytheme.on("searchresultshown",function(){(un=jQuery(".thumbs-collection-region")).each(function(){if(!jQuery(this).hasClass("initialized")){var e=jQuery(this),t=e.data("config");$n(e,t),Mn(e,t),jQuery(this).addClass("initialized sized")}})})},Jn={initModule:function(){Xn(),jQuery(window).on("window_width_changed",In),En(),Rn()}},Kn=function(){void 0!==dn&&dn.each(function(){var e=jQuery(this),t=e.data("config");Zn(e,t)})},Zn=function(e,t){var n=i.Utility.screenSize,o=t[n].colGutter,r=t[n].colCount,a=void 0===t[n].rowGutterMu?"%":t[n].rowGutterMu,s=void 0===t[n].colGutterMu?"%":t[n].colGutterMu,l="calc( 100% / "+r+" - "+(1-1/r)*t[n].colGutter+s+")";switch(e.find(".element-wrap").css({width:l,"margin-bottom":t[n].rowGutter+a}),t.layoutType){case"masonry":e.find(".lay-elementgrid-gutter-sizer").css("width",o+s),e.find(".lay-elementgrid-col-sizer").css("width",l),ei(e,t);break;default:e.find(".element-wrap").css("margin-right",o+s),e.find(".element-wrap:nth-child("+r+"n)").css("margin-right",0)}},ei=function(e,t){var n=i.Utility.screenSize;switch(t.layoutType){case"masonry":0==e.find(".lay-elementgrid-gutter-sizer").length&&e.find(".element-collection").append('<div class="lay-elementgrid-gutter-sizer"></div><div class="lay-elementgrid-col-sizer"></div>');var o=e.find(".element-collection")[0],r=".lay-elementgrid-gutter-sizer";"px"===(void 0===t[n].colGutterMu?"%":t[n].colGutterMu)&&(r=t[n].colGutter);var a=new Masonry(o,{itemSelector:".element-wrap",columnWidth:".lay-elementgrid-col-sizer",gutter:r,percentPosition:!0,transitionDuration:0});e.data("masonry",a);break;default:var s=e.find(".element-wrap"),l=e.find(".elementgrid-row .element-wrap");l.length>0&&l.unwrap();for(var c=t[n].colCount,u=0;u<s.length;u+=c)s.slice(u,u+c).wrapAll('<div class="elementgrid-row '+t.layoutType+'"></div>')}},ti=function(){void 0!==dn&&dn.each(function(){var e=jQuery(this);if("masonry"===e.data("config").layoutType){var t=e.data("masonry");void 0!==t&&t.layout()}})},ni=function(){window.laytheme.on("content_ready",function(e){var t;switch(dn=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(dn=t.find(".elements-collection-region")).each(function(){var e=jQuery(this),t=e.data("config");ei(e,t),Zn(e,t),jQuery(this).addClass("initialized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(dn)})},ii={initModule:function(){jQuery(window).on("window_width_changed",ti),window.laytheme.on("sizechanged",Kn),ni()}},oi=n(7),ri=[],ai=function(){},si=function(){jQuery("body").on("mouseenter",".marquee-start-on-hover",function(e){var t=jQuery(this).data("config"),n=t.speed;0==t.reversedirection&&(n*=-1),jQuery(this).data("lay-marquee").setRate(n)}).on("mouseleave",".marquee-start-on-hover",function(e){jQuery(this).data("lay-marquee").setRate(0)})},li=function(){jQuery("body").on("mouseenter",".marquee-pause-on-hover",function(e){jQuery(this).data("lay-marquee").setRate(0)}).on("mouseleave",".marquee-pause-on-hover",function(e){var t=jQuery(this).data("config"),n=t.speed;0==t.reversedirection&&(n*=-1),jQuery(this).data("lay-marquee").setRate(n)})},ci=function(){window.laytheme.on("content_ready",function(e){var t;switch(void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}!function(){if(ri.length>0){for(var e=0;e<ri.length;e++)ri[e].destroy();ri=[]}}(),t.find(".lay-marquee").each(function(){var e=jQuery(this),t=new function(e,t){this.control,this.marquee,this.wasInitialized,this.$marquee=e,this.config=t,this.init=function(){var t=i.Utility.screenSize,n=e[0],o=this.config.speed,r=this.config.reversedirection,a=this.config.startonscreen,s=this.config.textformat,l=this.config.separator,c=this.config[t].imageheight,u=!!this.config.hasOwnProperty("startonhover")&&this.config.startonhover,d=this.config.elements;if(!1===r&&(o*=-1),console.log("startonhover",u),!0===u&&(o=0),e.length>0&&e.is(":visible")){this.marquee=new oi.Marquee(n,{rate:o,upDown:!1,startOnScreen:a});for(var h=[],f=0;f<d.length;f++)!function(e,t,n){h.push(function(){var o,r=n[e];switch(r.type){case"text":(o=jQuery(r.cont)).addClass("_"+t+"_no_spaces");break;case"img":var a="";r.sizes.hasOwnProperty("full")&&(a=i.utility_controller.filterURL(r.sizes.full));var s=i.utility_controller.getImageSrcAndSrcSet(r),l=r.w/r.h*c,u="";if(r.hasOwnProperty("imagelink")&&null!=r.imagelink){var d=r.imagelink.newtab?'target="_blank"':"";u+='<a href="'+i.utility_controller.filterURL(r.imagelink.url)+'" '+d+' data-type="'+r.imagelink.type+'" data-id="'+r.imagelink.id+'" data-catid="['+r.imagelink.catid+']" data-title="'+r.imagelink.title+'">'}-1!==a.indexOf(".gif")?u+='<img style="width:'+l+"px; height:"+c+'px;" src="'+a+'">':u+='<img sizes="'+l+'px" style="width:'+l+"px; height:"+c+'px;" src="'+s.src+'" srcset="'+s.srcset+'">',r.hasOwnProperty("imagelink")&&null!=r.imagelink&&(u+="</a>"),o=jQuery(u)}return o[0]})}(f,s,d);this.control=Object(oi.loop)(this.marquee,h,function(){var e=document.createElement("span");return e.classList.add("_"+s),e.innerHTML=l,e}),this.$marquee.data("lay-marquee",this.marquee)}this.wasInitialized=!0},this.destroy=function(){null!==this.marquee&&(this.control=Object(oi.loop)(this.marquee,[]),this.marquee.clear(),e.empty())}}(e,e.data("config"));t.init(),ri.push(t)})})},ui={initModule:function(){jQuery(window).on("window_width_changed",ai),ci(),li(),si()}},di=function(){void 0!==hn&&hn.each(function(){var e=jQuery(this),t=e.data("config");fi(e,t),yi(e,t)})},hi=function(e){return isNaN(Number(e))||""===e.trim()},fi=function(e,t){for(var n=t[i.Utility.screenSize].sortedColumns,o=[],r=[],a=0;a<n.length;a++){var s=n[a];o.push(s.name),r.push(s.visible)}var l=-1,c=-1,u=[];e.find(".lay-projectindex-row").first().find(">div").each(function(e){var t=0;switch(this.classList[0]){case"lay-projectindex-col-title":t=o.indexOf("title");break;case"lay-projectindex-col-categories":t=o.indexOf("categories");break;case"lay-projectindex-col-tags":t=o.indexOf("tags");break;case"lay-projectindex-col-year":t=o.indexOf("year")}u.push(t),t>l&&1==r[t]&&(l=t,c=e)});var d=0;e.find(".lay-projectindex-row>div").each(function(){jQuery(this).css("order",u[d]),++d>u.length-1&&(d=0)}),d=0,e.find(".lay-projectindex-filter").each(function(){jQuery(this).css("order",u[d]),++d>u.length-1&&(d=0)}),e.find(".last-visible-projectindex-col").removeClass("last-visible-projectindex-col"),-1!=c&&(e.find(".lay-projectindex-row>div:nth-child("+(c+1)+")").addClass("last-visible-projectindex-col"),e.find(".lay-projectindex-filter:nth-child("+(c+1)+")").addClass("last-visible-projectindex-col"))},yi=function(e,t){for(var n,o,r,a,s=e.find(".lay-projectindex-col-title, .lay-projectindex-filter-title"),l=e.find(".lay-projectindex-col-categories, .lay-projectindex-filter-categories"),c=e.find(".lay-projectindex-col-tags, .lay-projectindex-filter-tags"),u=e.find(".lay-projectindex-col-year, .lay-projectindex-filter-year"),d=hi(t[i.Utility.screenSize].tagsWidth),h=hi(t[i.Utility.screenSize].categoriesWidth),f=hi(t[i.Utility.screenSize].titleWidth),y=hi(t[i.Utility.screenSize].yearWidth),p=0;p<t[i.Utility.screenSize].sortedColumns.length;p++){switch((Q=t[i.Utility.screenSize].sortedColumns[p]).name){case"title":n=Q.visible;break;case"categories":o=Q.visible;break;case"year":a=Q.visible;break;case"tags":r=Q.visible}}var g=[];for(p=0;p<t[i.Utility.screenSize].sortedColumns.length;p++){!0===(Q=t[i.Utility.screenSize].sortedColumns[p]).visible&&g.push(Q)}var m,v,w,_,b=100,j=g.length;for(p=0;p<g.length;p++){switch((Q=g[p]).name){case"title":f||(b-=Number(t[i.Utility.screenSize].titleWidth),j--);break;case"categories":h||(b-=Number(t[i.Utility.screenSize].categoriesWidth),j--);break;case"tags":d||(b-=Number(t[i.Utility.screenSize].tagsWidth),j--);break;case"year":y?(b-=_=15,j--):(b-=Number(t[i.Utility.screenSize].yearWidth),j--)}}for(p=0;p<g.length;p++){var Q;switch((Q=g[p]).name){case"title":m=f?b/j:t[i.Utility.screenSize].titleWidth;break;case"categories":v=h?b/j:t[i.Utility.screenSize].categoriesWidth;break;case"tags":w=d?b/j:t[i.Utility.screenSize].tagsWidth;break;case"year":_=y?15:t[i.Utility.screenSize].yearWidth}}r?(c.show(),c.css("width",w+"%")):c.hide(),o?(l.show(),l.css("width",v+"%")):l.hide(),a?(u.show(),u.css("width",_+"%")):u.hide(),n?(s.show(),s.css("width",m+"%")):s.hide()},pi=function(){window.laytheme.on("newpageshown",function(){(hn=jQuery(".lay-projectindex")).each(function(){var e=jQuery(this),t=e.data("config");fi(e,t),yi(e,t),function(e,t){e.find(".lay-projectindex-filter-inner").off("click"),e.find(".lay-projectindex-filter-inner").on("click",function(){var e=jQuery(this.parentNode),n=jQuery(this).closest(".lay-projectindex"),i=n.find(".lay-projectindex-row"),o="DESC";e.hasClass("projectindex-filter-active")?e.hasClass("order-ASC")?(e.removeClass("order-ASC").addClass("order-DESC"),o="DESC",console.log("desc")):(e.removeClass("order-DESC").addClass("order-ASC"),o="ASC",console.log("asc")):(n.find(".projectindex-filter-active").removeClass("projectindex-filter-active"),e.hasClass("lay-projectindex-filter-year")?(e.removeClass("order-ASC").addClass("projectindex-filter-active order-DESC"),o="DESC"):(e.removeClass("order-DESC").addClass("projectindex-filter-active order-ASC"),o="ASC"));var r="";e.hasClass("lay-projectindex-filter-title")?r="title":e.hasClass("lay-projectindex-filter-categories")?r="categories":e.hasClass("lay-projectindex-filter-tags")?r="tags":e.hasClass("lay-projectindex-filter-year")&&(r="date");var a=[];switch(i.each(function(e){switch(r){case"title":a.push({domIx:e,text:jQuery(this).find(".lay-projectindex-col-title").text()});break;case"categories":a.push({domIx:e,text:jQuery(this).find(".lay-projectindex-col-categories").text()});break;case"tags":a.push({domIx:e,text:jQuery(this).find(".lay-projectindex-col-tags").text()});break;case"date":a.push({domIx:e,text:jQuery(this).find(".lay-projectindex-col-year").attr("data-date")})}}),r){case"title":case"categories":a.sort(function(e,t){return e.text.localeCompare(t.text)});break;case"tags":a.sort(function(e,t){return e.text.localeCompare(t.text,void 0,{numeric:!0,sensitivity:"base"})});break;case"date":a.sort(function(e,t){return parseInt(e.text,10)-parseInt(t.text,10)})}"DESC"==o&&(a=a.reverse()),jQuery(".lay-projectindex-first-row").css("border-top",""),jQuery(".lay-projectindex-first-row").removeClass("lay-projectindex-first-row");for(var s=0;s<a.length;s++){var l=a[s];i.eq(l.domIx).css("order",s),0==s&&i.eq(l.domIx).addClass("lay-projectindex-first-row")}jQuery(".lay-projectindex-first-row").css("border-top",t.lineStrokeWidth+"px solid "+t.lineColor)})}(e,t),jQuery(this).addClass("initialized")})})},gi={initModule:function(){window.laytheme.on("sizechanged",di),pi()}},mi=function(){void 0!==fn&&fn.each(function(){var e=jQuery(this),t=e.data("config");vi(e,t)})},vi=function(e,t){var n=t[i.Utility.screenSize],o=n.width,r=n.height,a=n.spacebetween,s=t.setwidthorheight;switch(e.find(".lay-icon-inner").css({paddingLeft:a/2+"px",paddingRight:a/2+"px"}),s){case"width":e.find(".lay-icon-inner").css({width:o+"px",height:""});break;case"height":e.find(".lay-icon-inner").css({width:"",height:r+"px"})}},wi=function(){window.laytheme.on("newpageshown",function(){(fn=jQuery(".lay-socialmedia-icons")).each(function(){var e=jQuery(this),t=e.data("config");vi(e,t),jQuery(this).addClass("initialized")})})},_i={initModule:function(){window.laytheme.on("sizechanged",mi),wi()}},bi=function(){void 0!==yn&&yn.each(function(){var e=jQuery(this),t=e.data("config");ji(e,t)})},ji=function(e,t){var n=i.Utility.screenSize,o=(100+t[n].colGutter)/t[n].colCount;switch(o-=t[n].colGutter,e.find("li").css({width:o+"%","margin-bottom":t[n].rowGutter+"%","margin-left":0}),t.layoutType){case"masonry":e.find(".lay-productsgrid-gutter-sizer").css("width",t[n].colGutter+"%"),e.find(".lay-productsgrid-col-sizer").css("width",o+"%");var r=e.data("masonry");void 0!==r&&r.layout();break;default:e.find("li").css("margin-right",t[n].colGutter+"%"),e.find("li:nth-child("+t[n].colCount+"n)").css("margin-right",0)}},Qi=function(){window.laytheme.on("content_ready",function(e){var t;switch(yn=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,o=0!=jQuery("#custom-phone-grid").length;n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&o?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!o?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||o||(t=jQuery("#grid, .cover-region-desktop, #footer"))}(yn=t.find(".lay-products-thumbnails-grid")).each(function(){var e=jQuery(this),t=e.data("config");!function(e,t){switch(t.layoutType){case"masonry":var n=e.find("ul.lay-products")[0],i=new Masonry(n,{itemSelector:"li",columnWidth:".lay-productsgrid-col-sizer",gutter:".lay-productsgrid-gutter-sizer",percentPosition:!0,transitionDuration:0});e.data("masonry",i)}}(e,t),ji(e,t),e.addClass("sized")}),lazySizes.autoSizer.checkElems(),i.utility_controller.setImageSizesAttribute(yn)})},xi={initModule:function(){jQuery(window).on("window_width_changed",bi),Qi()}},Ci={updateLanguageSwitcherUrls:function(){Si()},initModule:function(){ki()}},ki=function(){1==frontendPassedData.is_qtranslate_active&&window.laytheme.on("newpage",Si)},Si=function(){1==frontendPassedData.is_qtranslate_active&&jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/v1/get_qtranslate_langswitcher_urls/",data:{url:window.location.href},method:"GET",success:function(e){for(var t=JSON.parse(e),n=0;n<t.length;n++)jQuery(".qtranxs-lang-menu-item-"+t[n][0]+" a").attr("href",t[n][1])}})},zi=Ci,Pi={updateLanguageSwitcherUrls:function(){Oi()},initModule:function(){Di()}},Di=function(){1==frontendPassedData.is_polylang_active&&window.laytheme.on("newpage",Oi)},Oi=function(){1==frontendPassedData.is_polylang_active&&jQuery.ajax({url:frontendPassedData.wpapiroot+"laytheme/v1/get_polylang_langswitcher_urls/",data:{id:jQuery("body").attr("data-id"),type:jQuery("body").attr("data-type")},method:"GET",success:function(e){var t=JSON.parse(e);if(Array.isArray(t))for(var n=0;n<t.length;n++)"string"==typeof t[n][0]&&jQuery(".lang-item-"+t[n][1]+" a").attr("href",t[n][0])}})},Ii=Pi,Mi={initModule:function(){Ri()}},$i={desktopContentLoaded:!1,CplContentLoaded:!1},Ti={desktopContentLoaded:!1,CplContentLoaded:!1},Ri=function(){Ui(),window.laytheme.on("newpageshown",Ui),window.laytheme.on("newpageshown",function(){setTimeout(function(){Li()},0)}),window.laytheme.on("sizechanged",function(){Li()})},Li=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":Ei();break;case"phone":Wi()}Ai(),Ni(),setTimeout(function(){var e="desktop"==i.Utility.screenSize||"tablet"==i.Utility.screenSize?"desktop":"phone";window.laytheme.trigger("content_ready",e,pn)},0)},Ai=function(){var e=jQuery("#lay-woocommerce");switch(frontendPassedData.image_loading){case"instant_load":zn.load_visible_images_then_rest_controller.initLoadImages(e),i.utility_controller.fadeInImageOnLoadViaParent(e)}},Ni=function(){jQuery("video").each(function(){jQuery(this).is(":visible")||this.pause()})},Ei=function(){$i.desktopContentLoaded||(pn=jQuery("#grid, .cover-region-desktop"),Bi(pn),$i.desktopContentLoaded=!0),Ti.desktopContentLoaded||((pn=jQuery("#footer")).length>0&&Bi(pn),Ti.desktopContentLoaded=!0)},Wi=function(){jQuery("#custom-phone-grid").length>0?$i.hasCPL=!0:$i.hasCPL=!1,jQuery("#footer-custom-phone-grid").length>0?Ti.hasCPL=!0:Ti.hasCPL=!1,$i.hasCPL?$i.CplContentLoaded||(pn=jQuery("#custom-phone-grid, .cover-region-phone"),Bi(pn),$i.CplContentLoaded=!0):$i.desktopContentLoaded||(pn=jQuery("#grid, .cover-region-desktop"),Bi(pn),$i.desktopContentLoaded=!0),Ti.hasCPL?Ti.CplContentLoaded||(pn=jQuery("#footer-custom-phone-grid"),Bi(pn),Ti.CplContentLoaded=!0):Ti.desktopContentLoaded||((pn=jQuery("#footer")).length>0&&Bi(pn),Ti.desktopContentLoaded=!0)},Bi=function(e){switch(frontendPassedData.image_loading){case"instant_load":zn.load_visible_images_then_rest_controller.initLoadImages(e),i.utility_controller.fadeInImageOnLoadViaParent(e)}switch(frontendPassedData.image_loading){case"instant_load":Ft.a.loadVideosInstantly(e);break;case"lazy_load":Ft.a.initLazyLoadVideosOnScroll(e)}e.find("iframe[data-src]").each(function(){var e=jQuery(this).attr("data-src");jQuery(this).attr("src",e)}),e.find("[data-embed]").each(function(){var e=jQuery(this).attr("data-embed");jQuery(this).html(e)}),"undefined"!=typeof layCarousel&&void 0!==layCarousel.loadNotLazyloadingImagesIn&&layCarousel.loadNotLazyloadingImagesIn(e),"undefined"!=typeof layCarousel&&void 0!==layCarousel.fadeCarousel.loadFirstLazyImage&&layCarousel.fadeCarousel.loadFirstLazyImage(e)},Ui=function(){$i.desktopContentLoaded=!1,$i.CplContentLoaded=!1,Ti.desktopContentLoaded=!1,Ti.CplContentLoaded=!1},Hi=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":if(jQuery(".lay-sitewide-background-video").length>0&&void 0==jQuery(".lay-sitewide-background-video").attr("src")){var e=jQuery(".lay-sitewide-background-video").attr("data-src");jQuery(".lay-sitewide-background-video").attr("src",e)}jQuery(".lay-sitewide-background-video").length>0&&jQuery(".lay-sitewide-background-video")[0].play();break;case"phone":if(jQuery(".lay-sitewide-background-video-mobile").length>0&&void 0==jQuery(".lay-sitewide-background-video-mobile").attr("src")){e=jQuery(".lay-sitewide-background-video-mobile").attr("data-src");jQuery(".lay-sitewide-background-video-mobile").attr("src",e)}jQuery(".lay-sitewide-background-video-mobile").length>0&&jQuery(".lay-sitewide-background-video-mobile")[0].play()}},Fi={initModule:function(){Hi(),window.laytheme.on("sizechanged",function(){Hi()})}};var qi,Gi=function(){jQuery(document).on("click",function(e){0==jQuery(e.target).closest(".lay-woocommerce-variations-select").length&&jQuery(".lay-woocommerce-variations-select").removeClass("lay-dropdown-active")});var e=[];window.laytheme.on("newpageshown",function(){setTimeout(function(){jQuery(".variations_form").length>0&&jQuery(".variations select").each(function(){var t=new function(e){var t=this;this.$container=null,this.$select=e,this.default=this.$select.attr("placeholder"),this.$select.attr("name"),this.$lay_custom_select_el="",this.init=function(e){t.$container=e;var n=this.$select.find("option:selected");""!=n.val()&&(t.default=n.text()),this.initMarkup(),this.showVariationImage(t.default),setTimeout(function(){t.bindNewSelect()},0)},this.initMarkup=function(){var e=String()+'<div class="lay-woocommerce-variations-select" data-lvs-id="'+this.$select.attr("id")+'" data-lvs-name="'+this.$select.attr("name")+'"><div class="lay-woocommerce-variations-select-selected-field" placeholder="'+this.$select.attr("placeholder")+'">'+this.default+'</div><div class="lay-woocommerce-variations-select-selected-list">';this.$select.find("option").each(function(){if(""!=jQuery(this).attr("value")){var t=this.outerHTML.replace("<option ","<div ").replace("</option>","</div>");e+=t}}),e+=String()+"</div></div>";var n=jQuery(e),i=t.$container.find('.lay-woocommerce-variations-select[data-lvs-id="'+this.$select.attr("id")+'"]');i.length>0?(i.after(n),i.remove()):t.$container.append(n),t.$lay_custom_select_el=n},this.showVariationImage=function(){jQuery(".lay-woocommerce-product-variation-slide").hide();var e=null,t="";jQuery(".variations select").each(function(){t+="[data-"+jQuery(this).attr("name")+'="'+this.value+'"]'}),(e=jQuery(".lay-woocommerce-product-variation-slide"+t)).length>0&&(e.show(),window.laytheme.trigger("variation_image_updated"),e.first()[0].getBoundingClientRect().bottom<400&&jQuery("html").animate({scrollTop:e.first().offset().top},300,"easeInOutQuad",function(){}))},this.bindNewSelect=function(){this.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-field").on("click",function(){t.$lay_custom_select_el.toggleClass("lay-dropdown-active"),jQuery(".lay-woocommerce-variations-select").not(t.$lay_custom_select_el).removeClass("lay-dropdown-active"),t.$lay_custom_select_el.hasClass("lay-dropdown-active")}),this.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-list>div").on("click",function(){var e=jQuery(this).attr("value"),n=jQuery(this).text();t.$lay_custom_select_el.find(".lay-woocommerce-variations-select-selected-field").text(n),t.$select.find("option").removeAttr("selected"),t.$select.find('option[value="'+e+'"]')[0].selected="selected",t.$select.trigger("change"),t.$lay_custom_select_el.removeClass("lay-dropdown-active"),jQuery(".woocommerce-variation-add-to-cart .button").removeClass("added"),t.showVariationImage(e),window.laytheme.trigger("variation_selected",t.$select)})},this.getCustomSelectEl=function(){return this.$lay_custom_select_el}}(jQuery(this)),n=jQuery(".lay-variable-products-select-container");t.init(n),e.push(t)})},100),window.laytheme.off("variation_selected"),window.laytheme.on("variation_selected",function(t){if(jQuery(".variations select").length>1)for(var n=jQuery(".lay-variable-products-select-container"),i=0;i<e.length;i++)t.is(e[i].$select)||e[i].init(n)})})},Yi=0,Vi=Yi,Xi=!1,Ji=0,Ki=!1,Zi=function(){Xi=jQuery("body").hasClass("lay-woocommerce-show-store-notice")},eo=function(e){switch(e){case"desktop":case"tablet":Xi&&(jQuery(".sitetitle.position-top, .laynav.position-top, .navbar.position-top").css("margin-top",Yi+"px"),jQuery("body").hasClass("woocommerce-page")||"on"!=frontendPassedData.lay_sticky_footer||jQuery(".lay-content").css("min-height","calc( 100vh - "+Yi+"px )"),jQuery(".fp-slidesNav.bottom").css("transform","translate(-50%, -"+Yi+"px)")),jQuery("body").css("padding-top","");break;case"phone":Xi&&(jQuery("body").css("padding-top",Ji+Yi+"px"),jQuery(".navbar, .mobile-title, .lay-mobile-icons-wrap, .mobile-nav.mobile-menu-style-style_desktop_menu").css("margin-top",Yi+"px"),jQuery(".fp-slidesNav.bottom").css("transform","translate(-50%, -"+Yi+"px)"))}},to=function(){jQuery(".woocommerce-store-notice__dismiss-link").on("click",function(){jQuery(".sitetitle.position-top, .laynav.position-top, .navbar").css("margin-top",""),jQuery(".navbar, .mobile-title, .lay-mobile-icons-wrap, .mobile-nav.mobile-menu-style-style_desktop_menu").css("margin-top",""),jQuery(".fp-slidesNav.bottom").css("transform",""),jQuery("body").css("padding-top",""),jQuery(".lay-content").css("min-height",""),Ki=!1,jQuery("body").removeClass("lay-woocommerce-show-store-notice").addClass("lay-woocommerce-hide-store-notice"),Zi(),jQuery("body").removeClass("lay-woocommerce-store-notice-scrolled-down")})},no=function(){Yi=qi.outerHeight()},io=function(){switch(i.Utility.screenSize){case"phone":0==Ki&&(Ji=parseInt(jQuery("body").css("padding-top"),10),Ki=!0);break;case"tablet":case"desktop":Ji=0,Ki=!1}},oo=function(){var e,t;to(),qi=jQuery(".woocommerce-store-notice.demo_store"),Zi(),Xi&&(io(),no(),eo(i.Utility.screenSize),jQuery(window).on("fpAfterRender",function(){jQuery(".fp-slidesNav.bottom").css("transform","translate(-50%, -"+Yi+"px)")})),e=Backbone.Radio.channel("events"),t=!1,window.laytheme.on("newpageshown",function(){t=!1}),e.on("scroll",function(){if(Xi){var e=window.pageYOffset||document.documentElement.scrollTop;e>=Yi&&0==t?(t=!0,jQuery("body").addClass("lay-woocommerce-store-notice-scrolled-down")):e<Yi&&1==t&&(t=!1,jQuery("body").removeClass("lay-woocommerce-store-notice-scrolled-down"))}}),window.laytheme.on("sizechanged",function(e){Xi&&(io(),no(),eo(e))}),jQuery(window).on("window_width_changed",function(){Xi&&(Vi=Yi,no(),Yi!=Vi&&eo(i.Utility.screenSize))})};var ro,ao,so=function(){jQuery(document.body).on("wc_fragments_refreshed",function(){"instant_load"==frontendPassedData.image_loading&&jQuery(".xoo-wsc-container .xoo-wsc-img-col img").each(function(){jQuery(this).hasClass("loaded")||(zn.load_visible_images_then_rest_controller.loadImage(jQuery(this)),jQuery(this).addClass("loaded"))})})},lo=function(){jQuery("body").addClass("xoo-wsc-cart-active"),jQuery(".xoo-wsc-modal").addClass("xoo-wsc-cart-active"),jQuery(document.body).trigger("xoo_wsc_cart_toggled",["show"]),i.Utility.isPhoneSize&&Ie.hideMobileMenu()},co=function(){var e,t,n;jQuery(".lay-woocommerce-gallery").length>0&&jQuery(".swiper-slide").length>1&&(i.Utility.isPhoneSize||jQuery(".lay-woocommerce-single-product-wrap").hasClass("carousel")?(ro=new Swiper(".lay-woocommerce-gallery",{containerModifierClass:"lay-woocommerce-gallery-container-",pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},spaceBetween:0,breakpoints:(e={},t=parseInt(frontendPassedData.breakpoint,10),n={spaceBetween:20},t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)}),window.laytheme.off("variation_image_updated"),window.laytheme.on("variation_image_updated",function(){ro.update(),ro.slideTo(0,100)})):void 0!==ro&&(window.laytheme.off("variation_image_updated"),ro.destroy(!0,!0)))},uo=function(){window.laytheme.on("customizer_show_sidecart",function(){lo()}),window.laytheme.on("customizer_hide_sidecart",function(){jQuery(".xoo-wsch-close").trigger("click")})},ho=function(){var e=jQuery(".lay-woocommerce-related-products-scroller");e.length>0&&e.each(function(){var e=0;jQuery(this).find("li").each(function(){var t=window.getComputedStyle(this);e+=parseInt(this.getBoundingClientRect().width,10)+parseInt(t.marginRight,10)}),jQuery(this).find("ul").css("width",e+5)})},fo=function(){jQuery(window).on("window_width_changed",function(){var e;"phone"==i.Utility.screenSize?ho():(e=jQuery(".lay-woocommerce-related-products-scroller")).length>0&&e.find("ul").css("width","")})},yo=function(){jQuery(".checkout.woocommerce-checkout input.input-text").each(function(){var e=jQuery(this).val(),t=jQuery(this).closest(".form-row");""!=e&&t.addClass("lay-minimize-label"),t.addClass("lay-show-label")})},po=function(){yo(),jQuery(document).on("focusin",".checkout.woocommerce-checkout input.input-text",function(){var e=jQuery(this).closest(".form-row");e.addClass("lay-label-transition"),setTimeout(function(){e.addClass("lay-minimize-label")},0)}),jQuery(document).on("focusout",".checkout.woocommerce-checkout input.input-text",function(){var e=jQuery(this).closest(".form-row");""==jQuery(this).val()&&(e.addClass("lay-label-transition"),setTimeout(function(){e.removeClass("lay-minimize-label")},0))}),function(){jQuery(".checkout.woocommerce-checkout select").each(function(){jQuery(this).selectize({create:!1,sortField:"text"})});var e=0,t=0,n=!0;jQuery(document.body).on("country_to_state_changed",function(i,o,r){if(void 0!==r){r.find(".form-row").removeClass("last-child");var a=r.find(".form-row:last-child").prev();r.find(".form-row:last-child").is(":visible")||a.addClass("last-child")}if(""!=o||void 0===r){if(void 0!==r){var s=r.find("select.state_select")[0];if(void 0===s)return;if(e=jQuery(s).find("option").length,void 0!==s.selectize&&e!=t&&0==n&&1!=e){if(jQuery(s).find("option").length>0){var l=s.selectize;jQuery(s).find("option").each(function(){var e=jQuery(this).attr("value"),t=jQuery(this).text();l.addOption({value:e,text:t})}),l.refreshOptions(),setTimeout(function(){l.settings.placeholder=jQuery(s).closest(".form-row").find("label").text(),l.updatePlaceholder()},0)}}else jQuery(s).selectize({create:!1,sortField:"text"});setTimeout(function(){var e=r.find("select.state_select")[0];if(void 0!==e){var t=e.selectize;t.settings.placeholder=jQuery(e).closest(".form-row").find("label").text(),t.updatePlaceholder()}},0),setTimeout(function(){jQuery(".selectize-control").addClass("select2-container"),yo()},0),t=e,n=!1}}else{var c="";jQuery(r).find("input#billing_state").length>0?(c=jQuery(r).find("input#billing_state").closest(".form-row").find("label").text(),jQuery(r).find("input#billing_state").attr("placeholder",c)):jQuery(r).find("input#shipping_state").length>0&&(c=jQuery(r).find("input#shipping_state").closest(".form-row").find("label").text(),jQuery(r).find("input#shipping_state").attr("placeholder",c))}})}(),jQuery(function(e){e.scroll_to_notices=function(e){e.length}}),window.laytheme.on("newpageshown",function(){co()}),window.laytheme.on("sizechanged",function(e){co()}),1==frontendPassedData.sideCartPluginActive&&jQuery(document).on("click",".laycart a, .lay-cart-icon-wrap",function(e){e.preventDefault(),e.stopPropagation(),lo()}),jQuery(document.body).on("updated_cart_totals",function(){"instant_load"==frontendPassedData.image_loading&&jQuery(".lay-woocommerce-cart-wrap img").each(function(){jQuery(this).hasClass("loaded")||(zn.load_visible_images_then_rest_controller.loadImage(jQuery(this)),jQuery(this).addClass("loaded"))})}),function(){if("undefined"!=typeof MutationObserver&&jQuery(".laycart").length>0){var e=jQuery(".laycart span"),t=jQuery(".lay-cart-icon-wrap"),n=document.getElementsByClassName("xoo-wsc-modal")[0];void 0!==e&&void 0!==n&&new MutationObserver(function(n){var i=jQuery(".xoo-wscb-count").text();""!=i&&0!=i&&void 0!==i||(i=0),0==i?jQuery(".laycart").addClass("laycart-empty").removeClass("laycart-not-empty"):jQuery(".laycart").removeClass("laycart-empty").addClass("laycart-not-empty");var o=e.text(),r=o.indexOf("("),a=o.substr(0,r),s=a+="("+i+")";e.text(s),t.text(i)}).observe(n,{childList:!0})}}(),uo(),jQuery(document).on("click",".js-lay-woocommerce-plus-qty",function(e){var t=jQuery(e.target).closest(".lay-woocommerce-qty-wrap").find("input"),n=parseInt(t.val(),10),i=n,o=parseInt(t.attr("max"),10);++n>o&&(n=o),t.val(n),i!=n&&t.trigger("input")}),jQuery(document).on("click",".js-lay-woocommerce-minus-qty",function(e){var t=jQuery(e.target).closest(".lay-woocommerce-qty-wrap").find("input"),n=parseInt(t.val(),10),i=n;--n<1&&(n=1),t.val(n),i!=n&&t.trigger("input")}),jQuery(document).on(".cart_item input.input-text.qty:not(#coupon_code)","input",function(){jQuery(this).closest(".cart_item").find(".lay-woocommerce-update-cart-button").removeClass("lay-woocommerce-button-disabled")}),jQuery(document).on("click",".lay-woocommerce-tab-title",function(e){jQuery(this).hasClass("active")?(jQuery(this).removeClass("active"),jQuery(this).next().removeClass("active")):(jQuery(".lay-woocommerce-tab-title.active").removeClass("active"),jQuery(this).addClass("active"),jQuery(".lay-woocommerce-tab-content.active").removeClass("active"),jQuery(this).next().addClass("active"))}),so(),fo(),jQuery(document).on("input","#coupon_code",function(){""!=jQuery(this).val()?jQuery('.button[name="apply_coupon"]').removeClass("disabled"):jQuery('.button[name="apply_coupon"]').addClass("disabled")}),jQuery("textarea").attr("spellcheck","false"),jQuery("#coupon_code").attr("autocomplete","off"),jQuery("form.checkout_coupon").appendTo("#lay-coupon-target"),jQuery("body").on("keydown input","textarea#order_comments",function(){this.style.removeProperty("height"),this.style.height=this.scrollHeight+2+"px"}).on("mousedown","textarea#order_comments",function(){this.style.removeProperty("height"),this.style.height=this.scrollHeight+2+"px"}),frontendPassedData.sideCartPluginActive||jQuery(document.body).on("updated_cart_totals",function(){}),"phone"==i.Utility.screenSize&&(ho(),jQuery(".woocommerce-notices-wrapper").on("click",function(){jQuery(this).fadeOut()}))},go={initModule:function(){po(),Gi(),oo()}},mo={initModule:function(){return wo()}},vo=function e(){jQuery(window).one("click",function(t){1==frontendPassedData.menu_submenu_keep_open&&1==jQuery(t.target).closest(".show-submenu-desktop").length?e():jQuery(".show-submenu-desktop").removeClass("show-submenu-desktop")})},wo=function(){var e;e=!1,jQuery(".laynav.mobile-nav").hasClass("mobile-menu-style-style_desktop_menu")&&(e=!0),jQuery(".laynav.mobile-nav .menu-item-has-children>a").on("click",function(t){t.preventDefault(),t.stopPropagation(),e&&jQuery(".show-submenu-mobile").not(jQuery(this).closest(".menu-item-has-children")).removeClass("show-submenu-mobile"),jQuery(this).closest(".menu-item-has-children").toggleClass("show-submenu-mobile"),e&&jQuery(this).closest(".menu-item-has-children").hasClass("show-submenu-mobile")&&jQuery(window).one("click",function(){jQuery(".show-submenu-mobile").removeClass("show-submenu-mobile")})}),(i.Utility.isTouchDevice||"click"==frontendPassedData.menu_submenu_show_on)&&jQuery(".laynav.desktop-nav .menu-item-has-children>a").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=jQuery(this).closest(".menu-item-has-children");jQuery(".show-submenu-desktop").not(t).removeClass("show-submenu-desktop"),t.toggleClass("show-submenu-desktop"),t.hasClass("show-submenu-desktop")&&vo()})},_o=mo,bo=void 0,jo=function(){switch(i.Utility.screenSize){case"desktop":case"tablet":jQuery(".one-col-row .lay-thumbnailgrid-filter-wrap").each(function(){var e=jQuery(this).find(".lay-thumbnailgrid-tagfilter");e.length>0&&e.hasClass("mobile-one-line")&&e.css({width:"",paddingLeft:"",paddingRight:"",transform:""});var t=jQuery(this).find(".lay-thumbnailgrid-filter");t.length>0&&t.hasClass("mobile-one-line")&&t.css({width:"",paddingLeft:"",paddingRight:"",transform:""})});break;case"phone":jQuery(".one-col-row .lay-thumbnailgrid-filter-wrap").each(function(){var e=jQuery(this).find(".lay-thumbnailgrid-tagfilter");if(e.length>0&&e.hasClass("mobile-one-line")){var t=e[0].getBoundingClientRect().left,n=e.find(".tag-bubble").first();if(n.length>0){var i=(n[0].currentStyle||window.getComputedStyle(n[0])).marginRight;i=parseInt(i,10);var o=jQuery(this).closest(".row"),r=o[0].currentStyle||window.getComputedStyle(o[0]);console.log(r.paddingRight),e.css({width:window.innerWidth+"px",paddingLeft:r.paddingRight,paddingRight:r.paddingRight}),0!=t&&e.css({transform:"translateX( -"+t+"px )"})}}var a=jQuery(this).find(".lay-thumbnailgrid-filter");if(a.length>0&&a.hasClass("mobile-one-line")){var s=jQuery(this).closest(".col")[0].getBoundingClientRect().left;t=a[0].getBoundingClientRect().left;a.css({width:window.innerWidth+"px",paddingLeft:s+"px",paddingRight:s+"px"}),0!=t&&a.css({transform:"translateX( -"+t+"px )"})}})}},Qo={initModule:function(){window.laytheme.on("content_ready",function(e){switch(e){case"desktop":bo=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var t=0!=jQuery("#footer-custom-phone-grid").length,n=0!=jQuery("#custom-phone-grid").length;t&&n?bo=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!t&&n?bo=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):t&&!n?bo=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):t||n||(bo=jQuery("#grid, .cover-region-desktop, #footer"))}bo.find(".thumbs-collection-region").length>0&&jo()}),jQuery(window).on("window_width_changed",function(){jo()})}},xo=function(){if(void 0!==ao&&ao.length>0){var e,t,n;n=document.styleSheets;var i=!1;for(e=0;e<n.length;e++)null!=(t=n[e]).ownerNode&&"frontend-style-css"==t.ownerNode.id&&(i=t);t.crossOrigin="anonymous";try{var o=[];if(0!=i){for(e=0;e<i.cssRules.length;e++){var r=i.cssRules[e];void 0!==r.selectorText&&-1!=r.selectorText.indexOf("_100vh")&&o.push(r)}ao.each(function(){var t="";if(jQuery(this).hasClass("_100vh")){var n=this;for(e=0;e<o.length;e++){var i=o[e];n.matches(i.selectorText)&&(t=i.style.minHeight)}jQuery(this).attr("data-original-100vh-height",t)}else if(jQuery(this).hasClass("rowcustomheight")){n=this;var r=jQuery(n).clone();for(r[0].classList.add("_100vh"),e=0;e<o.length;e++){i=o[e];r[0].matches(i.selectorText)&&(t=i.style.minHeight)}jQuery(this).attr("data-original-100vh-height",t);var a=jQuery(this).find(".row-inner.rowcustomheight").attr("style");if(-1!==a.indexOf("min-height:calc(")){var s=a.replace("min-height:calc(","");s=s.replace(");",""),jQuery(this).attr("data-original-rowcustomheight",s)}}})}}catch(e){console.error(e)}}};function Co(e){return Function('"use strict";return ('.concat(e,")"))()}var ko=function(e){if(void 0!==ao&&ao.length>0){var t=jQuery(e).attr("data-original-100vh-height");if(void 0!==t){if("100vh"==t)return window.innerHeight;if(-1!=t.indexOf("calc(")){var n=t.indexOf("calc("),i=t.indexOf(")"),o=t.substring(n+5,i);return Co(o=(o=o.replace("100vh","window.innerHeight")).replace("px",""))}}return console.error("no 100vh css rule found for this row! this should not happen"),window.innerHeight}},So=function(){zo(),Po()},zo=function(){void 0!==ao&&ao.length>0&&ao.each(function(){if(jQuery(this).hasClass("_100vh")){var e=ko(this),t=-1;jQuery(this).find(".col.absolute-position").each(function(){var e=this.getBoundingClientRect();e.height>t&&(t=e.height)}),-1!==t&&e<t?(jQuery(this).css("min-height",t),jQuery(this).find("._100vh").css("min-height",t)):(jQuery(this).css("min-height",""),jQuery(this).find("._100vh").css("min-height",""))}else if(jQuery(this).hasClass("rowcustomheight")){var n=ko(this),i=jQuery(this).attr("data-original-rowcustomheight"),o=function(e,t){for(var n=e.split(" "),i=[],o=0;o<n.length;o++){var r=n[o];if(-1!==r.indexOf("vh")){r=r.replace("vh","");var a=parseFloat(r);a*=t/100,i.push(a)}else-1!==r.indexOf("px")?(r=r.replace("px",""),a=parseFloat(r),i.push(a)):i.push(r)}var s=i.join("");return console.log("mystr",s),Math.round(Co(s))}(i,n);t=-1;jQuery(this).find(".col.absolute-position").each(function(){var e=this.getBoundingClientRect();e.height>t&&(t=e.height)}),-1!==t&&o<t?(jQuery(this).css("min-height",t),jQuery(this).find(".rowcustomheight").css("min-height",t)):(jQuery(this).css("min-height",i+")"),jQuery(this).find(".rowcustomheight").css("min-height",i))}})},Po=function(){void 0!==ao&&ao.length>0&&(ao.find(".column-wrap>.col.align-onethird").length>0&&ao.each(function(){var e=jQuery(this);if(e.find(".column-wrap>.col.align-onethird").length>0){var t=(i=this.getBoundingClientRect()).top,n=t,i=this.getBoundingClientRect();e.find(".column-wrap>.col.align-onethird").each(function(){var e=jQuery(this),o=this.getBoundingClientRect().height;(n+=i.height*(1/3)-o/2)<t||n+o>i.bottom?e.css("marginTop",""):e.css("marginTop",i.height*(1/3)-o/2)})}}),ao.find(".column-wrap>.col.align-twothirds").length>0&&ao.each(function(){var e=jQuery(this);if(e.find(".column-wrap>.col.align-twothirds").length>0){var t=this.getBoundingClientRect();e.find(".column-wrap>.col.align-twothirds").each(function(){var e=jQuery(this),n=this.getBoundingClientRect(),i=n.height,o=t.height*(1/3)-i/2,r=t.bottom-o+n.height,a=t.bottom-o;r<t.top||a>t.bottom?e.css("marginBottom",""):e.css("marginBottom",t.height*(1/3)-i/2)})}}))},Do={initModule:function(){!0===i.Utility.isTouchDevice?(window.laytheme.on("sizechanged",function(){xo()}),jQuery(window).on("window_width_changed orientationchange",function(){})):(window.laytheme.on("sizechanged",function(){xo()}),jQuery(window).on("resize",So)),window.laytheme.on("content_ready",function(e){var t;switch(ao=void 0,e){case"desktop":t=jQuery("#grid, .cover-region-desktop, #footer");break;case"phone":var n=0!=jQuery("#footer-custom-phone-grid").length,i=0!=jQuery("#custom-phone-grid").length;n&&i?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer-custom-phone-grid"):!n&&i?t=jQuery("#custom-phone-grid, .cover-region-phone, #footer"):n&&!i?t=jQuery("#grid, .cover-region-desktop, #footer-custom-phone-grid"):n||i||(t=jQuery("#grid, .cover-region-desktop, #footer"))}ao=t.find(".row"),xo(),So(),setTimeout(function(){So()},1e3)})}};Mi.initModule(),zi.initModule(),Ii.initModule(),1!=frontendPassedData.is_customize?yt.init():yt.cancelLoading(),ne.initModule(),pe.initModule(),it.initModule(),i.utility_controller.initModule(),j(),q.initModule(),V.initModule(),te.default.initModule(),_e.initModule(),Qe.default.initModule(),xe.initModule(),Ie.initModule(),ot.initModule(),st.initModule(),r.initModule(),en.initModule(),_n.initModule(),Sn.initModule(),Jn.initModule(),ii.initModule(),ui.initModule(),gi.initModule(),_i.initModule(),xi.initModule(),R(),Fi.initModule(),_o.initModule(),Qo.initModule(),Do.initModule();var Oo=jQuery("body").attr("data-type"),Io=jQuery("body").attr("data-id"),Mo=jQuery("body").attr("data-slug"),$o=jQuery("body").attr("data-catid");jQuery(document).ready(function(){go.initModule(),setTimeout(function(){window.laytheme.trigger("newpage"),window.laytheme.trigger("newpageshown",{},Oo,{id:Io,type:Oo,slug:Mo,catid:$o})},0)}),n(13),n(12),n(11),n(10)},function(e,t,n){(function(t){e.exports=t.lt_showhide_onscroll_controller=n(6)}).call(this,n(5))},function(e,t,n){(function(t){e.exports=t.lt_utility_controller=n(0)}).call(this,n(5))},function(e,t,n){(function(t){e.exports=t.lt_html5video_controller=n(8)}).call(this,n(5))},function(e,t,n){(function(t){e.exports=t.lt_load_visible_images_then_rest_controller=n(3)}).call(this,n(5))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=null!==navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)?"is-touchdevice":"no-touchdevice";document.documentElement.classList.add(n);var i=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),o=window.devicePixelRatio||1,r=window.screen.width*o,a=window.screen.height*o,s=navigator.userAgent.match(/(Macintosh)/),l=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),c=!1;s=null!==s;var u=!1,d=!1;2048==r&&2732==a&&(u=!0,d=!0),1668==r&&2388==a&&(u=!0,d=!0),2732==r&&2048==a&&(u=!0),1536==r&&2048==a&&(u=!0),1620==r&&2160==a&&(u=!0),1536==r&&2048==a&&(u=!0),1==s&&1==l&&u&&(c=!0),!0===i||c?document.documentElement.classList.add("is-ios"):document.documentElement.classList.add("no-ios"),!0===/(iPad)/g.test(navigator.userAgent)||c?d?document.documentElement.classList.add("is-ipad-without-homebutton"):document.documentElement.classList.add("is-ipad"):document.documentElement.classList.add("no-ipad");var h=/(iPhone)/g.test(navigator.userAgent);!0===i&&1125===r&&2436===a||!0===i&&828===r&&1792===a||!0===i&&1242===r&&2688===a?document.documentElement.classList.add("is-iphonex"):!0===h?document.documentElement.classList.add("is-iphone"):document.documentElement.classList.add("no-iphone");var f=window.chrome,y=window.navigator,p=y.vendor,g=void 0!==window.opr,m=y.userAgent.indexOf("Edge")>-1,v="no-chrome-no-safari";y.userAgent.match("CriOS")?v="is-chrome":null!==f&&void 0!==f&&"Google Inc."===p&&!1===g&&!1===m&&(v="is-chrome"),!0===navigator.userAgent.toLowerCase().indexOf("android")>-1&&document.documentElement.classList.add("is-android"),!0===l&&(v="is-safari"),document.documentElement.classList.add(v),"is-chrome"!=v&&document.documentElement.classList.add("no-chrome")}]);